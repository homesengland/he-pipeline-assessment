@using He.PipelineAssessment.UI.Features.Workflow.ViewModels
@model He.PipelineAssessment.UI.Features.Workflow.ViewModels.Question

@foreach(var text in Model.Information){
     @await Html.PartialAsync("_InformationGroup", text)
}

@for (int i = 0; i < Model.Information!.Count; i++)
{
    var hiddenItemTitle = "Data.Questions[" + Model.Index + "].Information[" + i + "].Title";
    var hiddenItemIsGuidance = "Data.Questions[" + Model.Index + "].Information[" + i + "].IsGuidance";
    var hiddenItemIsCollapsed = "Data.Questions[" + Model.Index + "].Information[" + i + "].IsCollapsed";

    var hiddenItemIsBullet = "Data.Questions[" + Model.Index + "].Information[" + i + "].IsBullet";


    <input type="hidden" name="@hiddenItemTitle" value="@Model.Information[i].Title" />
    <input type="hidden" name="@hiddenItemIsGuidance" value="@Model.Information[i].IsGuidance.ToString()" />
    <input type="hidden" name="@hiddenItemIsBullet" value="@Model.Information[i].IsBullet.ToString()" />
    <input type="hidden" name="@hiddenItemIsCollapsed" value="@Model.Information[i].IsCollapsed.ToString()" />
    for(int j = 0; j < Model.Information[i].Text.Count; j++)
    {
        var hiddenItemText = "Data.Questions[" + Model.Index + "].Information[" + i + "].Text[" + j + "].Text";
        var hiddenItemIsParagraph = "Data.Questions[" + Model.Index + "].Information[" + i + "].Text[" + j + "].IsParagraph";
        var hiddenItemIsHyperlink = "Data.Questions[" + Model.Index + "].Information[" + i + "].Text[" + j + "].IsHyperlink";
        var hiddenItemIsBold = "Data.Questions[" + Model.Index + "].Information[" + i + "].Text[" + j + "].IsBold";
        var hiddenItemUrl = "Data.Questions[" + Model.Index + "].Information[" + i + "].Text[" + j + "].Url";

        <input type="hidden" name="@hiddenItemTitle" value="@Model.Information[i].Text[j].Text" />
        <input type="hidden" name="@hiddenItemIsParagraph" value="@Model.Information[i].Text[j].IsParagraph" />
        <input type="hidden" name="@hiddenItemIsBold" value="@Model.Information[i].Text[j].IsBold" />
        <input type="hidden" name="@hiddenItemIsHyperlink" value="@Model.Information[i].Text[j].IsHyperlink" />
        <input type="hidden" name="@hiddenItemUrl" value="@Model.Information[i].Text[j].Url" />
    }
}