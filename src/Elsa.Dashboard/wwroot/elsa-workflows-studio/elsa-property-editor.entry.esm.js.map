{"version":3,"file":"elsa-property-editor.entry.esm.js","sources":["src/components/editors/elsa-property-editor/elsa-property-editor.css?tag=elsa-property-editor","src/components/editors/elsa-property-editor/elsa-property-editor.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n","import {Component, h, Prop, State, Event, EventEmitter} from '@stencil/core';\r\nimport {\r\n  ActivityDefinitionProperty,\r\n  ActivityModel,\r\n  ActivityPropertyDescriptor,\r\n  SyntaxNames,\r\n  IntellisenseContext\r\n} from \"../../../models\";\r\n\r\n@Component({\r\n  tag: 'elsa-property-editor',\r\n  styleUrl: 'elsa-property-editor.css',\r\n  shadow: false,\r\n})\r\nexport class ElsaPropertyEditor {\r\n\r\n  @Event() defaultSyntaxValueChanged: EventEmitter<string>;\r\n  @Prop() activityModel: ActivityModel;\r\n  @Prop() propertyDescriptor: ActivityPropertyDescriptor;\r\n  @Prop() propertyModel: ActivityDefinitionProperty;\r\n  @Prop({attribute: 'editor-height', reflect: true}) editorHeight: string = '10em';\r\n  @Prop({attribute: 'single-line', reflect: true}) singleLineMode: boolean = false;\r\n  @Prop({attribute: 'context', reflect: true}) context?: string;\r\n  @Prop() showLabel: boolean = true;\r\n\r\n  onSyntaxChanged(e: CustomEvent<string>) {\r\n    this.propertyModel.syntax = e.detail;\r\n  }\r\n\r\n  onExpressionChanged(e: CustomEvent<string>) {\r\n    const defaultSyntax = this.propertyDescriptor.defaultSyntax || SyntaxNames.Literal;\r\n    const syntax = this.propertyModel.syntax || defaultSyntax;\r\n    this.propertyModel.expressions[syntax] = e.detail;\r\n\r\n    if (syntax != defaultSyntax)\r\n      return;\r\n\r\n    this.defaultSyntaxValueChanged.emit(e.detail);\r\n  }\r\n\r\n  render() {\r\n    const propertyDescriptor = this.propertyDescriptor;\r\n    const propertyModel = this.propertyModel;\r\n    const fieldHint = propertyDescriptor.hint;\r\n    const fieldName = propertyDescriptor.name;\r\n    const label = this.showLabel ? propertyDescriptor.label : null;\r\n\r\n    const context: IntellisenseContext = {\r\n      propertyName: propertyDescriptor.name,\r\n      activityTypeName: this.activityModel.type\r\n    }\r\n\r\n    return <div>\r\n      <elsa-multi-expression-editor\r\n        onSyntaxChanged={e => this.onSyntaxChanged(e)}\r\n        onExpressionChanged={e => this.onExpressionChanged(e)}\r\n        fieldName={fieldName}\r\n        label={label}\r\n        syntax={propertyModel.syntax}\r\n        defaultSyntax={propertyDescriptor.defaultSyntax}\r\n        isReadOnly={propertyDescriptor.isReadOnly}\r\n        expressions={propertyModel.expressions}\r\n        supportedSyntaxes={propertyDescriptor.supportedSyntaxes}\r\n        editor-height={this.editorHeight}\r\n        context={context}>\r\n        <slot/>\r\n      </elsa-multi-expression-editor>\r\n      {fieldHint ? <p class=\"elsa-mt-2 elsa-text-sm elsa-text-gray-500\">{fieldHint}</p> : undefined}\r\n    </div>\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA,MAAM,qBAAqB,GAAG,sBAAsB;;MCcvC,kBAAkB,GAAA,MAAA;AAL/B,IAAA,WAAA,CAAA,OAAA,EAAA;;;AAWqD,QAAA,IAAY,CAAA,YAAA,GAAW,MAAM;AAC/B,QAAA,IAAc,CAAA,cAAA,GAAY,KAAK;AAExE,QAAA,IAAS,CAAA,SAAA,GAAY,IAAI;AA+ClC;AA7CC,IAAA,eAAe,CAAC,CAAsB,EAAA;QACpC,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM;;AAGtC,IAAA,mBAAmB,CAAC,CAAsB,EAAA;QACxC,MAAM,aAAa,GAAG,IAAI,CAAC,kBAAkB,CAAC,aAAa,IAAI,WAAW,CAAC,OAAO;QAClF,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,aAAa;QACzD,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM;QAEjD,IAAI,MAAM,IAAI,aAAa;YACzB;QAEF,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC;;IAG/C,MAAM,GAAA;AACJ,QAAA,MAAM,kBAAkB,GAAG,IAAI,CAAC,kBAAkB;AAClD,QAAA,MAAM,aAAa,GAAG,IAAI,CAAC,aAAa;AACxC,QAAA,MAAM,SAAS,GAAG,kBAAkB,CAAC,IAAI;AACzC,QAAA,MAAM,SAAS,GAAG,kBAAkB,CAAC,IAAI;AACzC,QAAA,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,GAAG,kBAAkB,CAAC,KAAK,GAAG,IAAI;AAE9D,QAAA,MAAM,OAAO,GAAwB;YACnC,YAAY,EAAE,kBAAkB,CAAC,IAAI;AACrC,YAAA,gBAAgB,EAAE,IAAI,CAAC,aAAa,CAAC;SACtC;AAED,QAAA,OAAO,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EACL,CAAA,CAAA,8BAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACE,eAAe,EAAE,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,EAC7C,mBAAmB,EAAE,CAAC,IAAI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,EACrD,SAAS,EAAE,SAAS,EACpB,KAAK,EAAE,KAAK,EACZ,MAAM,EAAE,aAAa,CAAC,MAAM,EAC5B,aAAa,EAAE,kBAAkB,CAAC,aAAa,EAC/C,UAAU,EAAE,kBAAkB,CAAC,UAAU,EACzC,WAAW,EAAE,aAAa,CAAC,WAAW,EACtC,iBAAiB,EAAE,kBAAkB,CAAC,iBAAiB,EAAA,eAAA,EACxC,IAAI,CAAC,YAAY,EAChC,OAAO,EAAE,OAAO,EAAA,EAChB,CAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,CAAO,CACsB,EAC9B,SAAS,GAAG,CAAA,CAAA,GAAA,EAAA,EAAG,KAAK,EAAC,2CAA2C,EAAE,EAAA,SAAS,CAAK,GAAG,SAAS,CACzF;;;;;;;"}