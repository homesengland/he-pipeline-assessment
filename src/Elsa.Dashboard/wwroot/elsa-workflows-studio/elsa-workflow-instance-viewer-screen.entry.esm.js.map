{"version":3,"file":"elsa-workflow-instance-viewer-screen.entry.esm.js","sources":["src/components/screens/workflow-instance-viewer/elsa-workflow-instance-viewer-screen/elsa-workflow-instance-viewer-screen.tsx"],"sourcesContent":["import {Component, h, Host, Listen, Method, Prop, State, Watch} from '@stencil/core';\r\nimport {eventBus} from '../../../../services/event-bus';\r\nimport * as collection from 'lodash/collection';\r\nimport {\r\n  ActivityBlueprint,\r\n  ActivityDefinitionProperty,\r\n  ActivityDescriptor,\r\n  ActivityModel,\r\n  Connection,\r\n  ConnectionModel,\r\n  EventTypes,\r\n  SyntaxNames,\r\n  WorkflowBlueprint,\r\n  WorkflowExecutionLogRecord,\r\n  WorkflowInstance,\r\n  WorkflowModel,\r\n  WorkflowPersistenceBehavior,\r\n  WorkflowStatus\r\n} from \"../../../../models\";\r\nimport {ActivityStats, createElsaClient} from \"../../../../services/elsa-client\";\r\nimport state from '../../../../utils/store';\r\nimport {\r\n  ActivityContextMenuState,\r\n  LayoutDirection,\r\n  WorkflowDesignerMode\r\n} from \"../../../designers/tree/elsa-designer-tree/models\";\r\nimport Tunnel from \"../../../../data/dashboard\";\r\nimport {featuresDataManager} from \"../../../../services\";\r\n\r\n@Component({\r\n  tag: 'elsa-workflow-instance-viewer-screen',\r\n  shadow: false,\r\n})\r\nexport class ElsaWorkflowInstanceViewerScreen {\r\n\r\n  @Prop({attribute:'workflow-instance-id'}) workflowInstanceId: string;\r\n  @Prop({attribute: 'server-url'}) serverUrl: string;\r\n  @Prop() culture: string;\r\n  @State() workflowInstance: WorkflowInstance;\r\n  @State() workflowBlueprint: WorkflowBlueprint;\r\n  @State() workflowModel: WorkflowModel;\r\n  @State() selectedActivityId?: string;\r\n  @State() activityStats?: ActivityStats;\r\n\r\n  @State() activityContextMenuState: ActivityContextMenuState = {\r\n    shown: false,\r\n    x: 0,\r\n    y: 0,\r\n    activity: null,\r\n  };\r\n\r\n  el: HTMLElement;\r\n  designer: HTMLElsaDesignerTreeElement;\r\n  journal: HTMLElsaWorkflowInstanceJournalElement;\r\n  contextMenu: HTMLElement;\r\n  layoutDirection = LayoutDirection.TopBottom;\r\n\r\n  @Method()\r\n  async getServerUrl(): Promise<string> {\r\n    return this.serverUrl;\r\n  }\r\n\r\n  @Watch('workflowInstanceId')\r\n  async workflowInstanceIdChangedHandler(newValue: string) {\r\n    const workflowInstanceId = newValue;\r\n    let workflowInstance: WorkflowInstance = {\r\n      id: null,\r\n      definitionId: null,\r\n      definitionVersionId: null,\r\n      version: null,\r\n      workflowStatus: WorkflowStatus.Idle,\r\n      variables: {data: {}},\r\n      blockingActivities: [],\r\n      scheduledActivities: [],\r\n      scopes: [],\r\n      currentActivity: {activityId: ''}\r\n    };\r\n\r\n    let workflowBlueprint: WorkflowBlueprint = {\r\n      id: null,\r\n      version: 1,\r\n      activities: [],\r\n      connections: [],\r\n      persistenceBehavior: WorkflowPersistenceBehavior.WorkflowBurst,\r\n      customAttributes: {data: {}},\r\n      persistWorkflow: false,\r\n      isLatest: false,\r\n      isPublished: false,\r\n      loadWorkflowContext: false,\r\n      isSingleton: false,\r\n      saveWorkflowContext: false,\r\n      variables: {data: {}},\r\n      type: null,\r\n      inputProperties: {data: {}},\r\n      outputProperties: {data: {}},\r\n      propertyStorageProviders: {}\r\n    };\r\n\r\n    const client = await createElsaClient(this.serverUrl);\r\n\r\n    if (workflowInstanceId && workflowInstanceId.length > 0) {\r\n      try {\r\n        workflowInstance = await client.workflowInstancesApi.get(workflowInstanceId);\r\n        workflowBlueprint = await client.workflowRegistryApi.get(workflowInstance.definitionId, {version: workflowInstance.version});\r\n      } catch {\r\n        console.warn(`The specified workflow definition does not exist. Creating a new one.`);\r\n      }\r\n    }\r\n\r\n    this.updateModels(workflowInstance, workflowBlueprint);\r\n  }\r\n\r\n  @Watch(\"serverUrl\")\r\n  async serverUrlChangedHandler(newValue: string) {\r\n    if (newValue && newValue.length > 0)\r\n      await this.loadActivityDescriptors();\r\n  }\r\n\r\n  @Listen('click', {target: 'window'})\r\n  onWindowClicked(event: Event){\r\n    const target = event.target as HTMLElement;\r\n\r\n    if (!this.contextMenu.contains(target))\r\n      this.handleContextMenuChange(0, 0, false, null);\r\n  }\r\n\r\n  async componentWillLoad() {\r\n    const layoutFeature = featuresDataManager.getFeatureConfig(featuresDataManager.supportedFeatures.workflowLayout);\r\n\r\n    if (layoutFeature && layoutFeature.enabled) {\r\n      this.layoutDirection = layoutFeature.value as LayoutDirection;\r\n    }\r\n\r\n    await this.serverUrlChangedHandler(this.serverUrl);\r\n    await this.workflowInstanceIdChangedHandler(this.workflowInstanceId);\r\n  }\r\n\r\n  componentDidLoad() {\r\n    if (!this.designer) {\r\n      if (state.useX6Graphs) {\r\n        this.designer = this.el.querySelector(\"x6-designer\") as HTMLX6DesignerElement;\r\n      } else {\r\n        this.designer = this.el.querySelector('elsa-designer-tree') as HTMLElsaDesignerTreeElement;\r\n      }\r\n      this.designer.model = this.workflowModel;\r\n    }\r\n  }\r\n\r\n  componentDidRender() {\r\n    if (this.el && this.contextMenu) {\r\n      let modalX = this.activityContextMenuState.x + 64;\r\n      let modalY = this.activityContextMenuState.y - 256;\r\n\r\n      // Fit the modal to the canvas bounds\r\n      const canvasBounds = this.el?.getBoundingClientRect();\r\n      const modalBounds = this.contextMenu.getBoundingClientRect();\r\n      const modalWidth = modalBounds?.width;\r\n      const modalHeight = modalBounds?.height;\r\n      modalX = Math.min(canvasBounds.width, modalX + modalWidth + 32) - modalWidth - 32;\r\n      modalY = Math.min(canvasBounds.height, modalY + modalHeight) - modalHeight - 32;\r\n      modalY = Math.max(0, modalY);\r\n\r\n      this.contextMenu.style.left = `${modalX}px`;\r\n      this.contextMenu.style.top = `${modalY}px`;\r\n    }\r\n  }\r\n\r\n  async loadActivityDescriptors() {\r\n    const client = await createElsaClient(this.serverUrl);\r\n    state.activityDescriptors = await client.activitiesApi.list();\r\n  }\r\n\r\n  updateModels(workflowInstance: WorkflowInstance, workflowBlueprint: WorkflowBlueprint) {\r\n    this.workflowInstance = workflowInstance;\r\n    this.workflowBlueprint = workflowBlueprint;\r\n    this.workflowModel = this.mapWorkflowModel(workflowBlueprint, workflowInstance);\r\n  }\r\n\r\n  mapWorkflowModel(workflowBlueprint: WorkflowBlueprint, workflowInstance: WorkflowInstance): WorkflowModel {\r\n    const activities = workflowBlueprint.activities.filter(x => x.parentId == workflowBlueprint.id || !x.parentId).map(x => this.mapActivityModel(x, workflowInstance));\r\n    const connections = workflowBlueprint.connections.filter(c => activities.findIndex(a => a.activityId == c.sourceActivityId || a.activityId == c.targetActivityId) > -1).map(this.mapConnectionModel);\r\n\r\n    return {\r\n      activities: activities,\r\n      connections: connections,\r\n      persistenceBehavior: workflowBlueprint.persistenceBehavior,\r\n    };\r\n  }\r\n\r\n  mapActivityModel(activityBlueprint: ActivityBlueprint, workflowInstance: WorkflowInstance): ActivityModel {\r\n    const activityDescriptors: Array<ActivityDescriptor> = state.activityDescriptors;\r\n    const activityDescriptor = activityDescriptors.find(x => x.type == activityBlueprint.type);\r\n    const activityData = workflowInstance.activityData[activityBlueprint.id] || {};\r\n\r\n    const properties: Array<ActivityDefinitionProperty> = collection.map(activityBlueprint.inputProperties.data, (value, key) => {\r\n      const propertyDescriptor = activityDescriptor.inputProperties.find(x => x.name == key) || activityDescriptor.outputProperties.find(x => x.name == key);\r\n      const defaultSyntax = propertyDescriptor?.defaultSyntax || SyntaxNames.Literal;\r\n      const expressions = {};\r\n      const v = activityData[key] || value;\r\n      expressions[defaultSyntax] = v;\r\n      return ({name: key, value: v, expressions: expressions, syntax: defaultSyntax});\r\n    });\r\n\r\n    return {\r\n      activityId: activityBlueprint.id,\r\n      description: activityBlueprint.description,\r\n      displayName: activityBlueprint.displayName || activityBlueprint.name || activityBlueprint.type,\r\n      name: activityBlueprint.name,\r\n      type: activityBlueprint.type,\r\n      properties: properties,\r\n      outcomes: [...activityDescriptor.outcomes],\r\n      persistWorkflow: activityBlueprint.persistWorkflow,\r\n      saveWorkflowContext: activityBlueprint.saveWorkflowContext,\r\n      loadWorkflowContext: activityBlueprint.loadWorkflowContext,\r\n      propertyStorageProviders: activityBlueprint.propertyStorageProviders,\r\n      x: activityBlueprint.x,\r\n      y: activityBlueprint.y,\r\n    }\r\n  }\r\n\r\n  mapConnectionModel(connection: Connection): ConnectionModel {\r\n    return {\r\n      sourceId: connection.sourceActivityId,\r\n      targetId: connection.targetActivityId,\r\n      outcome: connection.outcome\r\n    }\r\n  }\r\n\r\n  handleContextMenuChange(x: number, y: number, shown: boolean, activity: ActivityModel) {\r\n    this.activityContextMenuState = {\r\n      shown,\r\n      x,\r\n      y,\r\n      activity,\r\n    };\r\n  }\r\n\r\n  onShowWorkflowSettingsClick() {\r\n    eventBus.emit(EventTypes.ShowWorkflowSettings);\r\n  }\r\n\r\n  onRecordSelected(e: CustomEvent<WorkflowExecutionLogRecord>) {\r\n    const record = e.detail;\r\n    const activity = !!record ? this.workflowBlueprint.activities.find(x => x.id === record.activityId) : null;\r\n    this.selectedActivityId = activity != null ? activity.parentId != null ? activity.parentId : activity.id : null;\r\n  }\r\n\r\n  async onActivitySelected(e: CustomEvent<ActivityModel>) {\r\n    this.selectedActivityId = e.detail.activityId;\r\n    await this.journal.selectActivityRecord(this.selectedActivityId);\r\n  }\r\n\r\n  async onActivityDeselected(e: CustomEvent<ActivityModel>) {\r\n    if (this.selectedActivityId == e.detail.activityId)\r\n      this.selectedActivityId = null;\r\n\r\n    await this.journal.selectActivityRecord(this.selectedActivityId);\r\n  }\r\n\r\n  async onActivityContextMenuButtonClicked(e: CustomEvent<ActivityContextMenuState>) {\r\n    this.activityContextMenuState = e.detail;\r\n    this.activityStats = null;\r\n\r\n    if (!e.detail.shown) {\r\n      return;\r\n    }\r\n\r\n    const elsaClient = await createElsaClient(this.serverUrl);\r\n    this.activityStats = await elsaClient.activityStatsApi.get(this.workflowInstanceId, e.detail.activity.activityId);\r\n  }\r\n\r\n  render() {\r\n    const descriptors: Array<ActivityDescriptor> = state.activityDescriptors;\r\n    return (\r\n      <Host class=\"elsa-flex elsa-flex-col elsa-w-full elsa-relative\" ref={el => this.el = el}>\r\n        {this.renderCanvas()}\r\n        <elsa-workflow-instance-journal ref={el => this.journal = el}\r\n                                        workflowInstanceId={this.workflowInstanceId}\r\n                                        workflowInstance={this.workflowInstance}\r\n                                        serverUrl={this.serverUrl}\r\n                                        activityDescriptors={descriptors}\r\n                                        workflowBlueprint={this.workflowBlueprint}\r\n                                        workflowModel={this.workflowModel}\r\n                                        onRecordSelected={e => this.onRecordSelected(e)}/>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n  getActivityBorderColor = (activity: ActivityModel): string => {\r\n    const workflowInstance = this.workflowInstance;\r\n    const workflowFault = !!workflowInstance ? workflowInstance.faults : null;\r\n    const activityData = workflowInstance.activityData[activity.activityId] || {};\r\n    const lifecycle = activityData['_Lifecycle'] || {};\r\n    const executing = lifecycle.executing ?? lifecycle.Executing;\r\n    const executed = lifecycle.executed ?? lifecycle.Executed;\r\n\r\n    if (!!workflowFault && workflowFault.find(x => x.faultedActivityId == activity.activityId))\r\n      return 'red';\r\n\r\n    if (executed)\r\n      return 'green';\r\n\r\n    if (executing)\r\n      return 'blue';\r\n\r\n    return null;\r\n  }\r\n\r\n  renderActivityStatsButton = (activity: ActivityModel): string => {\r\n    const workflowInstance = this.workflowInstance;\r\n    const workflowFault = !!workflowInstance ? workflowInstance.faults : null;\r\n    const activityData = workflowInstance.activityData[activity.activityId] || {};\r\n    const lifecycle = activityData['_Lifecycle'] || {};\r\n    const executing = lifecycle.executing ?? lifecycle.Executing;\r\n    const executed = lifecycle.executed ?? lifecycle.Executed;\r\n\r\n    let icon: string;\r\n\r\n    if (!!workflowFault && workflowFault.find(x => x.faultedActivityId == activity.activityId)) {\r\n      icon = `<svg class=\"elsa-flex-shrink-0 elsa-h-6 elsa-w-6 elsa-text-red-600\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n                <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n                <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"/>\r\n                <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\"/>\r\n              </svg>`;\r\n    } else if (executed) {\r\n      icon = `<svg class=\"elsa-h-6 elsa-w-6 elsa-text-green-500\"  viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n                <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\" />\r\n                <line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\" />\r\n              </svg>`;\r\n    } else if (executing) {\r\n      icon = `<svg class=\"elsa-h-6 elsa-w-6 elsa-text-blue-500\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n                <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\" />\r\n                <line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\" />\r\n              </svg>`;\r\n    } else {\r\n      icon = `<svg class=\"h-6 w-6 text-gray-300\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n                <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\" />\r\n                <line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\" />\r\n              </svg>`\r\n    }\r\n\r\n    return `<div class=\"context-menu-wrapper elsa-flex-shrink-0\">\r\n            <button aria-haspopup=\"true\"\r\n                    class=\"elsa-w-8 elsa-h-8 elsa-inline-flex elsa-items-center elsa-justify-center elsa-text-gray-400 elsa-rounded-full elsa-bg-transparent hover:elsa-text-gray-500 focus:elsa-outline-none focus:elsa-text-gray-500 focus:elsa-bg-gray-100 elsa-transition elsa-ease-in-out elsa-duration-150\">\r\n              ${icon}\r\n            </button>\r\n          </div>`;\r\n  }\r\n\r\n  renderCanvas() {\r\n    return (\r\n      <div class=\"elsa-flex-1 elsa-flex\">\r\n        {!state.useX6Graphs && (\r\n          <elsa-designer-tree\r\n            model={this.workflowModel}\r\n            class=\"elsa-flex-1\"\r\n            ref={el => (this.designer = el)}\r\n            layoutDirection={this.layoutDirection}\r\n            mode={WorkflowDesignerMode.Instance}\r\n            activityContextMenuButton={this.renderActivityStatsButton}\r\n            activityBorderColor={this.getActivityBorderColor}\r\n            activityContextMenu={this.activityContextMenuState}\r\n            selectedActivityIds={[this.selectedActivityId]}\r\n            onActivitySelected={e => this.onActivitySelected(e)}\r\n            onActivityDeselected={e => this.onActivityDeselected(e)}\r\n            onActivityContextMenuButtonClicked={e => this.onActivityContextMenuButtonClicked(e)}\r\n          />\r\n        )}\r\n        {state.useX6Graphs && (\r\n          <x6-designer\r\n            model={this.workflowModel}\r\n            class=\"elsa-workflow-wrapper\"\r\n            ref={el => (this.designer = el)}\r\n            layoutDirection={this.layoutDirection}\r\n            mode={WorkflowDesignerMode.Instance}\r\n            activityContextMenuButton={this.renderActivityStatsButton}\r\n            activityBorderColor={this.getActivityBorderColor}\r\n            activityContextMenu={this.activityContextMenuState}\r\n            selectedActivityIds={[this.selectedActivityId]}\r\n            onActivitySelected={e => this.onActivitySelected(e)}\r\n            onActivityDeselected={e => this.onActivityDeselected(e)}\r\n            onActivityContextMenuButtonClicked={e => this.onActivityContextMenuButtonClicked(e)}\r\n          />\r\n        )}\r\n        {this.renderActivityPerformanceMenu()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderActivityPerformanceMenu = () => {\r\n    const activityStats: ActivityStats = this.activityStats;\r\n\r\n    const renderFault = () => {\r\n      if (!activityStats.fault)\r\n        return;\r\n\r\n      return <elsa-workflow-fault-information workflowFault={this.workflowInstance.faults.find(x => x.faultedActivityId == this.selectedActivityId)} faultedAt={this.workflowInstance.faultedAt} />;\r\n    };\r\n\r\n    const renderPerformance = () => {\r\n      if (!!activityStats.fault) return;\r\n\r\n      return <elsa-workflow-performance-information activityStats={activityStats} />;\r\n    }\r\n\r\n    const renderStats = function () {\r\n      return (\r\n        <div>\r\n          <div>\r\n            <table class=\"elsa-min-w-full elsa-divide-y elsa-divide-gray-200 elsa-border-b elsa-border-gray-200\">\r\n              <thead class=\"elsa-bg-gray-50\">\r\n              <tr>\r\n                <th scope=\"col\" class=\"elsa-px-6 elsa-py-3 elsa-text-left elsa-text-xs elsa-font-medium elsa-text-gray-500 elsa-text-right elsa-tracking-wider\">\r\n                  Event\r\n                </th>\r\n                <th scope=\"col\" class=\"elsa-px-6 elsa-py-3 elsa-text-left elsa-text-xs elsa-font-medium elsa-text-gray-500 elsa-text-right elsa-tracking-wider\">\r\n                  Count\r\n                </th>\r\n              </tr>\r\n              </thead>\r\n              <tbody class=\"elsa-bg-white elsa-divide-y elsa-divide-gray-200\">\r\n              {activityStats.eventCounts.length > 0 ? activityStats.eventCounts.map(eventCount => (\r\n                <tr>\r\n                  <td class=\"elsa-px-6 elsa-py-4 elsa-whitespace-nowrap elsa-text-sm elsa-font-medium elsa-text-gray-900\">\r\n                    {eventCount.eventName}\r\n                  </td>\r\n                  <td class=\"elsa-px-6 elsa-py-4 elsa-whitespace-nowrap elsa-text-sm elsa-text-gray-500\">\r\n                    {eventCount.count}\r\n                  </td>\r\n                </tr>)) : <tr>\r\n                <td colSpan={2} class=\"elsa-px-6 elsa-py-4 elsa-whitespace-nowrap elsa-text-sm elsa-font-medium elsa-text-gray-900\">\r\n                  No events record for this activity.\r\n                </td>\r\n              </tr>}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          {activityStats.eventCounts.length > 0 ? (<div class=\"elsa-relative elsa-grid elsa-gap-6 elsa-bg-white px-5 elsa-py-6 sm:elsa-gap-8 sm:elsa-p-8\">\r\n            {renderFault()}\r\n            {renderPerformance()}\r\n          </div>) : undefined\r\n          }\r\n        </div>\r\n      )\r\n    };\r\n\r\n    const renderLoader = function () {\r\n      return <div class=\"elsa-p-6 elsa-bg-white\">Loading...</div>;\r\n    };\r\n\r\n    return <div\r\n      data-transition-enter=\"elsa-transition elsa-ease-out elsa-duration-100\"\r\n      data-transition-enter-start=\"elsa-transform elsa-opacity-0 elsa-scale-95\"\r\n      data-transition-enter-end=\"elsa-transform elsa-opacity-100 elsa-scale-100\"\r\n      data-transition-leave=\"elsa-transition elsa-ease-in elsa-duration-75\"\r\n      data-transition-leave-start=\"elsa-transform elsa-opacity-100 elsa-scale-100\"\r\n      data-transition-leave-end=\"elsa-transform elsa-opacity-0 elsa-scale-95\"\r\n      class={`${this.activityContextMenuState.shown ? '' : 'hidden'} elsa-absolute elsa-z-10 elsa-mt-3 elsa-px-2 elsa-w-screen elsa-max-w-xl sm:elsa-px-0`}\r\n      style={{left: `${this.activityContextMenuState.x + 64}px`, top: `${this.activityContextMenuState.y - 256}px`}}\r\n      ref={el => this.contextMenu = el}\r\n    >\r\n      <div class=\"elsa-rounded-lg elsa-shadow-lg elsa-ring-1 elsa-ring-black elsa-ring-opacity-5 elsa-overflow-hidden\">\r\n        {!!activityStats ? renderStats() : renderLoader()}\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\nTunnel.injectProps(ElsaWorkflowInstanceViewerScreen, ['serverUrl', 'culture']);\r\n"],"names":["collection.map"],"mappings":"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"}