{"version":3,"file":"elsa-studio-dashboard.entry.esm.js","sources":["src/components/dashboard/pages/elsa-studio-dashboard/localizations.ts","src/components/dashboard/pages/elsa-studio-dashboard/elsa-studio-dashboard.tsx"],"sourcesContent":["export const resources = {\r\n  'en': {\r\n    default: {\r\n      'WorkflowDefinitions': 'Workflow Definitions',\r\n      'WorkflowInstances': 'Workflow Instances',\r\n      'WorkflowRegistry': 'Workflow Registry',\r\n      'WebhookDefinitions': 'Webhook Definitions',\r\n    }\r\n  },\r\n  'zh-CN': {\r\n    default: {\r\n      'WorkflowDefinitions': '工作流定义',\r\n      'WorkflowInstances': '工作流实例',\r\n      'WorkflowRegistry': '工作流程注册表',\r\n      'WebhookDefinitions': 'Webhook定义',\r\n    }\r\n  },\r\n  'nl-NL': {\r\n    default: {\r\n      'WorkflowDefinitions': 'Workflow Definities',\r\n      'WorkflowInstances': 'Workflows',\r\n      'WorkflowRegistry': 'Workflow Register',\r\n      'WebhookDefinitions': 'Webhook Definities',\r\n    }\r\n  },\r\n  'fa-IR': {\r\n    default: {\r\n      'WorkflowDefinitions': 'فرآیندها',\r\n      'WorkflowInstances': 'فرآیندهای اجرا شده',\r\n      'WorkflowRegistry': 'Workflow Registry',\r\n      'WebhookDefinitions': 'مشخصات Webhookها',\r\n    },\r\n  },\r\n  'es-ES': {\r\n    default: {\r\n      'WorkflowDefinitions': 'Definiciones de flujos',\r\n      'WorkflowInstances': 'Ejecuciones de flujos',\r\n      'WorkflowRegistry': 'Registro de flujos',\r\n      'WebhookDefinitions': 'Definiciones de webhooks',\r\n    },\r\n    menuItems: {\r\n      'workflow-definitions': 'Definiciones de flujos',\r\n      'workflow-instances': 'Ejecuciones de flujos',\r\n      'workflow-registry': 'Registro de flujos',\r\n    }\r\n  },\r\n  'de-DE': {\r\n    default: {\r\n      'WorkflowDefinitions': 'Ablaufdefinitionen',\r\n      'WorkflowInstances': 'Ablaufinstanzen',\r\n      'WorkflowRegistry': 'Ablaufverzeichnis',\r\n      'WebhookDefinitions': 'Webhook Definitionen',\r\n    },\r\n    menuItems: {\r\n      'workflow-definitions': 'Ablaufdefinitionen',\r\n      'workflow-instances': 'Ablaufinstanzen',\r\n      'workflow-registry': 'Ablaufverzeichnis',\r\n    }\r\n  }\r\n};\r\n\r\n","import {Component, h, Prop, getAssetPath} from '@stencil/core';\nimport {loadTranslations} from \"../../../i18n/i18n-loader\";\nimport {resources} from \"./localizations\";\nimport {i18n, t} from \"i18next\";\nimport {GetIntlMessage} from \"../../../i18n/intl-message\";\nimport Tunnel from \"../../../../data/dashboard\";\nimport {EventTypes, ConfigureDashboardMenuContext} from '../../../../models';\nimport {eventBus} from '../../../../services';\nimport { DropdownButtonItem, DropdownButtonOrigin } from '../../../controls/elsa-dropdown-button/models';\n\n@Component({\n  tag: 'elsa-studio-dashboard',\n  shadow: false,\n  assetsDirs: ['assets']\n})\nexport class ElsaStudioDashboard {\n\n  @Prop({attribute: 'culture', reflect: true}) culture: string;\n  @Prop({attribute: 'base-path', reflect: true}) basePath: string = '';\n  private i18next: i18n;\n  private dashboardMenu: ConfigureDashboardMenuContext  = {\n    data: {\n      menuItems: [\n        ['workflow-definitions', 'Workflow Definitions'],\n        ['workflow-instances', 'Workflow Instances'],\n        ['workflow-registry', 'Workflow Registry'],\n      ],\n      routes: [\n        ['', 'elsa-studio-home', true],\n        ['workflow-registry', 'elsa-studio-workflow-registry', true],\n        ['workflow-registry/:id', 'elsa-studio-workflow-blueprint-view'],\n        ['workflow-definitions', 'elsa-studio-workflow-definitions-list', true],\n        ['workflow-definitions/:id', 'elsa-studio-workflow-definitions-edit'],\n        ['workflow-instances', 'elsa-studio-workflow-instances-list', true],\n        ['workflow-instances/:id', 'elsa-studio-workflow-instances-view'],\n        ['oauth2-authorized', 'elsa-oauth2-authorized', true],\n      ]\n    }\n  };\n\n  async componentWillLoad() {\n    this.i18next = await loadTranslations(this.culture, resources);\n    await eventBus.emit(EventTypes.Dashboard.Appearing, this, this.dashboardMenu);\n  }\n\n  render() {\n\n    const logoPath = getAssetPath('./assets/logo.png');\n    const basePath = this.basePath || '';\n    const IntlMessage = GetIntlMessage(this.i18next);\n\n    const menuItemsNamespace = \"menuItems\"\n\n    let menuItems = (this.dashboardMenu.data != null ? this.dashboardMenu.data.menuItems : [])\n      .map(([route, label]) =>\n        this.i18next.exists(`${menuItemsNamespace}:${route}`) ?\n          [route, this.i18next.t(`${menuItemsNamespace}:${route}`)] :\n          [route, label]\n      );\n\n    let routes = this.dashboardMenu.data != null ? this.dashboardMenu.data.routes : [];\n\n    const renderFeatureMenuItem = (item: any, basePath: string) => {\n      return (<elsa-nav-link url={`${basePath}/${item[0]}`} anchorClass=\"elsa-text-gray-300 hover:elsa-bg-gray-700 hover:elsa-text-white elsa-px-3 elsa-py-2 elsa-rounded-md elsa-text-sm elsa-font-medium\" activeClass=\"elsa-text-white elsa-bg-gray-900\">\n                <IntlMessage label={`${item[1]}`}/>\n              </elsa-nav-link>)\n    }\n\n    const renderFeatureRoute = (item: any, basePath: string) => {\n      return (<stencil-route url={`${basePath}/${item[0]}`} component={`${item[1]}`} exact={item[2]}/>)\n    }\n\n    return (\n      <div class=\"elsa-h-screen elsa-bg-gray-100\">\n        <nav class=\"elsa-bg-gray-800\">\n          <div class=\"elsa-px-4 sm:elsa-px-6 lg:elsa-px-8\">\n            <div class=\"elsa-flex elsa-items-center elsa-justify-between elsa-h-16\">\n              <div class=\"elsa-flex elsa-items-center\">\n                <div class=\"elsa-flex-shrink-0\">\n      <elsa-nav-link url={`${basePath}/`}>\n                    <img class=\"elsa-h-8 elsa-w-8\" src={logoPath}\n        alt=\"Workflow\"/></elsa-nav-link>\n                </div>\n                <div class=\"hidden md:elsa-block\">\n                  <div class=\"elsa-ml-10 elsa-flex elsa-items-baseline elsa-space-x-4\">\n                    {menuItems.map(item => renderFeatureMenuItem(item, basePath))}\n                  </div>\n                </div>\n              </div>\n              <elsa-user-context-menu></elsa-user-context-menu>\n            </div>\n          </div>\n\n        </nav>\n        <main>\n          <stencil-router>\n            <stencil-route-switch scrollTopOffset={0}>\n              {routes.map(item => renderFeatureRoute(item, basePath))}\n            </stencil-route-switch>\n          </stencil-router>\n        </main>\n\n      </div>\n    );\n  }\n}\nTunnel.injectProps(ElsaStudioDashboard, ['culture', 'basePath']);\n"],"names":[],"mappings":"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"}