{"version":3,"file":"elsa-designer-panel.entry.esm.js","sources":["src/components/shared/elsa-designer-panel/localizations.ts","src/components/shared/elsa-designer-panel/elsa-designer-panel.tsx"],"sourcesContent":["export const resources = {\r\n  'en': {\r\n    default: {\r\n      'workflowLayoutName': 'Workflow Layout',\r\n      'workflowLayoutDescription': 'Determines the direction in which activities are laid out.',\r\n      'TopBottom': 'Top to Bottom',\r\n      'LeftRight': 'Left to Right',\r\n      'BottomTop': 'Bottom to Top',\r\n      'RightLeft': 'Right to Left',\r\n    }\r\n  },\r\n  'de-De': {\r\n    default: {\r\n      'workflowLayoutName': 'Ablauf Layout',\r\n      'workflowLayoutDescription': 'Bestimmt die Richtung, in welche der Ablauf angezeigt wird',\r\n      'TopBottom': 'Von Oben nach Unten',\r\n      'LeftRight': 'Von Links nach Rechts',\r\n      'BottomTop': 'Von Unten nach Oben',\r\n      'RightLeft': 'Von Rechts nach Links',\r\n    }\r\n  }\r\n};\r\n","import {Component, Host, h, Event, EventEmitter, Prop, State} from '@stencil/core';\r\nimport {FeatureConfig, featuresDataManager} from \"../../../services\";\r\nimport {LayoutDirection} from \"../../designers/tree/elsa-designer-tree/models\";\r\nimport {i18n} from \"i18next\";\r\nimport {resources} from \"./localizations\";\r\nimport {loadTranslations} from \"../../i18n/i18n-loader\";\r\n\r\n@Component({\r\n  tag: 'elsa-designer-panel',\r\n  shadow: false,\r\n})\r\n\r\nexport class ElsaDesignerPanel {\r\n\r\n  @Prop() culture: string;\r\n  @State() lastChangeTime: Date;\r\n  @Event() featureChanged: EventEmitter<string>;\r\n  @Event() featureStatusChanged: EventEmitter<string>;\r\n\r\n  i18next: i18n;\r\n\r\n  async componentWillLoad() {\r\n    this.i18next = await loadTranslations(this.culture, resources);\r\n  }\r\n\r\n  t = (key: string, options?: any) => this.i18next.t(key, options);\r\n\r\n  render() {\r\n    const features = featuresDataManager.getUIFeatureList();\r\n    const {t} = this;\r\n\r\n    return (\r\n      <Host>\r\n        <div class=\"elsa-mt-4\">\r\n          {features.map(name => {\r\n            const feature = featuresDataManager.getFeatureConfig(name);\r\n\r\n            return (\r\n              <div>\r\n                <div class=\"elsa-relative elsa-flex elsa-items-start elsa-ml-1\">\r\n                  <div class=\"elsa-flex elsa-items-center elsa-h-5\">\r\n                    <input\r\n                      id={name}\r\n                      name={name}\r\n                      type=\"checkbox\"\r\n                      value={`${feature.enabled}`}\r\n                      checked={feature.enabled}\r\n                      onChange={e => this.onToggleChange(e, name)}\r\n                      class=\"focus:elsa-ring-blue-500 elsa-h-4 elsa-w-4 elsa-text-blue-600 elsa-border-gray-300 rounded\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"elsa-ml-3 elsa-text-sm\">\r\n                    <label htmlFor={name} class=\"elsa-font-medium elsa-text-gray-700\">{t(`${name}Name`)}</label>\r\n                    <p class=\"elsa-text-gray-500\">{t(`${name}Description`)}</p>\r\n                  </div>\r\n                </div>\r\n                <div class=\"elsa-ml-1 elsa-my-4\">\r\n                  {this.renderFeatureData(name, feature)}\r\n                </div>\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n  renderFeatureData = (name: string, feature: FeatureConfig) => {\r\n    if (!feature.enabled) {\r\n      return null;\r\n    }\r\n\r\n    const {t} = this;\r\n    switch (name) {\r\n      case featuresDataManager.supportedFeatures.workflowLayout:\r\n        return (\r\n          <select id={name} name={name} onChange={e => this.onPropertyChange(e, name)} class=\"block focus:elsa-ring-blue-500 focus:elsa-border-blue-500 elsa-w-full elsa-shadow-sm sm:elsa-text-sm elsa-border-gray-300 elsa-rounded-md\">\r\n            {Object.keys(LayoutDirection).map(key => {\r\n              return <option value={LayoutDirection[key]} selected={LayoutDirection[key] === feature.value}>{t(key)}</option>;\r\n            })}\r\n          </select>\r\n        )\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  onToggleChange = (e: Event, name: string) => {\r\n    const element = e.target as HTMLInputElement;\r\n    featuresDataManager.setEnableStatus(name, element.checked);\r\n    this.lastChangeTime = new Date();\r\n    this.featureStatusChanged.emit(name);\r\n  }\r\n\r\n  onPropertyChange = (e: Event, name: string) => {\r\n    const element = e.target as HTMLInputElement;\r\n    featuresDataManager.setFeatureConfig(name, element.value.trim());\r\n    this.featureChanged.emit(name);\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}