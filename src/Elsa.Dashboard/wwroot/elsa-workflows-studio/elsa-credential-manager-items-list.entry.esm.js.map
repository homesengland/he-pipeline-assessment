{"version":3,"file":"elsa-credential-manager-items-list.entry.esm.js","sources":["src/modules/credential-manager/pages/credential-manager-items-list.tsx"],"sourcesContent":["import {Component, h, Prop, State} from '@stencil/core';\r\nimport 'i18next-wc';\r\nimport {i18n} from \"i18next\";\r\nimport { resources } from '../../../components/controls/elsa-pager/localizations';\r\nimport { loadTranslations } from '../../../components/i18n/i18n-loader';\r\nimport Tunnel from \"../../../data/dashboard\";\r\nimport { eventBus } from '../../../services';\r\nimport { SecretEventTypes } from \"../models/secret.events\";\r\nimport state from '../../../utils/store';\r\n\r\n@Component({\r\n  tag: 'elsa-credential-manager-items-list',\r\n  shadow: false,\r\n})\r\nexport class CredentialManagerItemsList {\r\n  @Prop({ attribute: 'monaco-lib-path' }) monacoLibPath: string;\r\n  @Prop() culture: string;\r\n  @Prop() basePath: string;\r\n  @Prop() serverUrl: string;\r\n  private i18next: i18n;\r\n\r\n  async componentWillLoad() {\r\n    this.i18next = await loadTranslations(this.culture, resources);\r\n  }\r\n\r\n  async onNewClick() {\r\n    await eventBus.emit(SecretEventTypes.ShowSecretsPicker);\r\n  }\r\n\r\n  renderListScreen() {\r\n    return <elsa-credential-manager-list-screen />;\r\n  }\r\n\r\n  renderSecretPickerModal() {\r\n    return <elsa-secrets-picker-modal />\r\n  }\r\n\r\n  renderSecretPickerEditor() {\r\n    const monacoLibPath = this.monacoLibPath ?? state.monacoLibPath;\r\n    return <elsa-secret-editor-modal culture={this.culture} monaco-lib-path={monacoLibPath} serverUrl={this.serverUrl}/>;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div class=\"elsa-border-b elsa-border-gray-200 elsa-px-4 elsa-py-4 sm:elsa-flex sm:elsa-items-center sm:elsa-justify-between sm:elsa-px-6 lg:elsa-px-8 elsa-bg-white\">\r\n          <div class=\"elsa-flex-1 elsa-min-w-0\">\r\n            <h1 class=\"elsa-text-lg elsa-font-medium elsa-leading-6 elsa-text-gray-900 sm:elsa-truncate\">\r\n              {/* <IntlMessage label=\"Title\"/> */}\r\n            </h1>\r\n          </div>\r\n          <button type=\"button\"\r\n                      onClick={() => this.onNewClick()}\r\n                      class=\"elsa-mt-3 elsa-w-full elsa-inline-flex elsa-justify-center elsa-rounded-md elsa-border elsa-border-gray-300 elsa-shadow-sm elsa-px-4 elsa-py-2 elsa-bg-white elsa-text-base elsa-font-medium elsa-text-gray-700 hover:elsa-bg-gray-50 focus:elsa-outline-none focus:elsa-ring-2 focus:elsa-ring-offset-2 focus:elsa-ring-blue-500 sm:elsa-mt-0 sm:elsa-ml-3 sm:elsa-w-auto sm:elsa-text-sm\">\r\n                Add New\r\n              </button>\r\n        </div>\r\n        {this.renderListScreen()}\r\n        {this.renderSecretPickerModal()}\r\n        {this.renderSecretPickerEditor()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nTunnel.injectProps(CredentialManagerItemsList, ['culture', 'basePath', 'serverUrl', 'monacoLibPath']);\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;MAca,0BAA0B,GAAA,MAAA;;;;AAOrC,IAAA,MAAM,iBAAiB,GAAA;AACrB,QAAA,IAAI,CAAC,OAAO,GAAG,MAAM,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC;;AAGhE,IAAA,MAAM,UAAU,GAAA;QACd,MAAM,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,CAAC;;IAGzD,gBAAgB,GAAA;AACd,QAAA,OAAO,8CAAuC;;IAGhD,uBAAuB,GAAA;AACrB,QAAA,OAAO,oCAA6B;;IAGtC,wBAAwB,GAAA;;QACtB,MAAM,aAAa,GAAG,CAAA,EAAA,GAAA,IAAI,CAAC,aAAa,MAAI,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAA,KAAK,CAAC,aAAa;QAC/D,OAAO,CAA0B,CAAA,0BAAA,EAAA,EAAA,OAAO,EAAE,IAAI,CAAC,OAAO,EAAA,iBAAA,EAAmB,aAAa,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,GAAG;;IAGtH,MAAM,GAAA;QACJ,QACE,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EACE,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,0JAA0J,EAAA,EACnK,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,0BAA0B,EAAA,EACnC,CAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAI,KAAK,EAAC,kFAAkF,EAAA,CAEvF,CACD,EACN,CAAA,CAAA,QAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAQ,IAAI,EAAC,QAAQ,EACT,OAAO,EAAE,MAAM,IAAI,CAAC,UAAU,EAAE,EAChC,KAAK,EAAC,4XAA4X,cAEjY,CACT,EACL,IAAI,CAAC,gBAAgB,EAAE,EACvB,IAAI,CAAC,uBAAuB,EAAE,EAC9B,IAAI,CAAC,wBAAwB,EAAE,CAC5B;;;AAIZ,MAAM,CAAC,WAAW,CAAC,0BAA0B,EAAE,CAAC,SAAS,EAAE,UAAU,EAAE,WAAW,EAAE,eAAe,CAAC,CAAC;;;;"}