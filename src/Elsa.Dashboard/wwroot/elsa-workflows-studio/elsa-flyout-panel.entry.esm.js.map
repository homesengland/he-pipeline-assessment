{"version":3,"file":"elsa-flyout-panel.entry.esm.js","sources":["src/components/shared/elsa-flyout-panel/elsa-flyout-panel.tsx"],"sourcesContent":["import {Component, Host, h, Prop, State, Method} from \"@stencil/core\";\r\nimport {enter, leave} from \"el-transition\"\r\nimport {eventBus} from \"../../../services\";\r\nimport {EventTypes} from \"../../../models\";\r\n\r\n@Component({\r\n  tag: 'elsa-flyout-panel',\r\n  shadow: false,\r\n})\r\n\r\nexport class ElsaFlyoutPanel {\r\n  @Prop() expandButtonPosition = 1;\r\n  @Prop() autoExpand = false;\r\n  @Prop() hidden = false;\r\n  @Prop() silent = false;\r\n  @Prop() updateCounter = 0; // This is required, so that the component would update tab click events when tabs change from outside\r\n  @State() expanded: boolean;\r\n  @State() currentTab: string;\r\n  headerTabs: HTMLElsaTabHeaderElement[];\r\n  contentTabs: HTMLElsaTabContentElement[];\r\n  el: HTMLElement;\r\n\r\n  async componentDidLoad() {\r\n    this.expanded = this.autoExpand;\r\n    this.updateTabs();\r\n  }\r\n\r\n  async updateTabs() {\r\n    this.headerTabs = Array.from(this.el.querySelectorAll('elsa-tab-header'));\r\n    this.headerTabs.forEach(element => {\r\n      element.onclick = () => {\r\n        this.selectTab(element.tab);\r\n        if (!this.silent) {\r\n          eventBus.emit(EventTypes.FlyoutPanelTabSelected, this, element.tab);\r\n        }\r\n      };\r\n    })\r\n    this.contentTabs = Array.from(this.el.querySelectorAll('elsa-tab-content'));\r\n    if (this.headerTabs.length > 0) {\r\n      this.currentTab = this.headerTabs[0].tab;\r\n      await this.selectTab(this.currentTab);\r\n    }\r\n  }\r\n\r\n  async componentDidRender() {\r\n    this.updateTabs();\r\n  }\r\n\r\n  render() {\r\n    const {hidden, expanded, expandButtonPosition} = this;\r\n    const expandPositionClass = `elsa-right-${16 * (expandButtonPosition - 1) + 12}`;\r\n    const hideOpenToggle = hidden || expanded;\r\n    const hideContents = hidden || !expanded;\r\n\r\n    return (\r\n      <Host>\r\n        <button type=\"button\"\r\n                onClick={this.toggle}\r\n                class={`${hideOpenToggle ? \"elsa-hidden\" : expandPositionClass} workflow-settings-button elsa-fixed elsa-top-20 elsa-inline-flex elsa-items-center elsa-p-2 elsa-rounded-full elsa-border elsa-border-transparent elsa-bg-white shadow elsa-text-gray-400 hover:elsa-text-blue-500 focus:elsa-text-blue-500 hover:elsa-ring-2 hover:elsa-ring-offset-2 hover:elsa-ring-blue-500 focus:elsa-outline-none focus:elsa-ring-2 focus:elsa-ring-offset-2 focus:elsa-ring-blue-500 elsa-z-10`}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"elsa-h-8 elsa-w-8\" fill=\"none\" viewBox=\"0 0 24 24\"\r\n               stroke=\"currentColor\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 19l-7-7 7-7m8 14l-7-7 7-7\"/>\r\n          </svg>\r\n        </button>\r\n        <section\r\n          class={`${hideContents ? 'elsa-hidden' : ''} elsa-fixed elsa-top-4 elsa-right-0 elsa-bottom-0 elsa-overflow-hidden`}\r\n          aria-labelledby=\"slide-over-title\" role=\"dialog\" aria-modal=\"true\">\r\n          <div class=\"elsa-absolute elsa-inset-0 elsa-overflow-hidden\">\r\n            <div class=\"elsa-absolute elsa-inset-0\" aria-hidden=\"true\"/>\r\n            <div\r\n              class=\"elsa-fixed elsa-top-20 elsa-inset-y-0 elsa-right-2 elsa-bottom-2 max-elsa-w-full elsa-flex\">\r\n              <div\r\n                ref={el => this.el = el}\r\n                data-transition-enter=\"elsa-transform elsa-transition elsa-ease-in-out elsa-duration-300 sm:elsa-duration-700\"\r\n                data-transition-enter-start=\"elsa-translate-x-full\"\r\n                data-transition-enter-end=\"elsa-translate-x-0\"\r\n                data-transition-leave=\"elsa-transform elsa-transition elsa-ease-in-out elsa-duration-300 sm:elsa-duration-700\"\r\n                data-transition-leave-start=\"elsa-translate-x-0\"\r\n                data-transition-leave-end=\"elsa-translate-x-full\"\r\n                class=\"elsa-w-screen elsa-max-w-lg elsa-h-full \">\r\n                <button type=\"button\"\r\n                        onClick={this.toggle}\r\n                        class={`${this.autoExpand ? 'elsa-hidden' : ''} workflow-settings-button elsa-absolute elsa-left-2 elsa-inline-flex elsa-items-center elsa-p-2 elsa-rounded-full elsa-border elsa-border-transparent elsa-bg-white shadow elsa-text-gray-400 hover:elsa-text-blue-500 focus:elsa-text-blue-500 hover:elsa-ring-2 hover:elsa-ring-offset-2 hover:elsa-ring-blue-500 focus:elsa-outline-none focus:elsa-ring-2 focus:elsa-ring-offset-2 focus:elsa-ring-blue-500 elsa-z-10`}>\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"elsa-h-8 elsa-w-8\" fill=\"none\" viewBox=\"0 0 24 24\"\r\n                       stroke=\"currentColor\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                          d=\"M13 5l7 7-7 7M5 5l7 7-7 7\"/>\r\n                  </svg>\r\n                </button>\r\n                <div\r\n                  class=\"elsa-h-full elsa-flex elsa-flex-col elsa-py-6 elsa-bg-white elsa-shadow-xl elsa-bg-white\">\r\n                  <div class=\"elsa-h-full elsa-mt-8 elsa-p-6 elsa-flex elsa-flex-col\">\r\n                      <div class=\"elsa-border-b elsa-border-gray-200\">\r\n                        <nav class=\"-elsa-mb-px elsa-flex elsa-space-x-8\" aria-label=\"Tabs\">\r\n                          <slot name=\"header\"/>\r\n                        </nav>\r\n                      </div>\r\n                      <section class=\"elsa-overflow-auto elsa-h-full\">\r\n                        <slot name=\"content\"/>\r\n                      </section>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n          </div>\r\n        </section>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n  toggle = () => {\r\n    if (this.expanded) {\r\n      leave(this.el).then(() => this.expanded = false);\r\n    } else {\r\n      this.expanded = true;\r\n      enter(this.el);\r\n    }\r\n  }\r\n\r\n  @Method()\r\n  async selectTab(tab: string, expand = false) {\r\n    this.headerTabs.forEach(element => {\r\n      element.active = element.tab === tab;\r\n    });\r\n    this.contentTabs.forEach(element => {\r\n      element.active = element.tab === tab;\r\n    });\r\n\r\n    if (expand && !this.expanded) {\r\n      this.expanded = true;\r\n      enter(this.el);\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}