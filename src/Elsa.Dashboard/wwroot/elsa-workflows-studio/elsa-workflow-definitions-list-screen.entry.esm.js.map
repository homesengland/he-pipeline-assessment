{"version":3,"file":"elsa-workflow-definitions-list-screen.entry.esm.js","sources":["src/components/screens/workflow-definition-list/elsa-workflow-definitions-screen/localizations.ts","src/components/screens/workflow-definition-list/elsa-workflow-definitions-screen/elsa-workflow-definitions-list-screen.tsx"],"sourcesContent":["export const resources = {\r\n  'en': {\r\n    'default': {\r\n      'Name': 'Name',\r\n      'Instances': 'Instances',\r\n      'LatestVersion': 'Latest Version',\r\n      'PublishedVersion': 'Published Version',\r\n      'Edit': 'Edit',\r\n      'Delete': 'Delete',\r\n      'DeleteConfirmationModel': {\r\n        'Title': 'Delete Workflow Definition',\r\n        'Message': 'Are you sure you wish to permanently delete this workflow, including all of its workflow instances?'\r\n      }\r\n    }\r\n  },\r\n  'zh-CN': {\r\n    'default': {\r\n      'Name': '名称',\r\n      'Instances': '实例',\r\n      'LatestVersion': '最新版本',\r\n      'PublishedVersion': '发布版本',\r\n      'Edit': '编辑',\r\n      'Delete': '删除',\r\n      'DeleteConfirmationModel': {\r\n        'Title': '删除工作流程定义',\r\n        'Message': '你确定要永久删除这个工作流程，包括它的所有工作流程实例？'\r\n      }\r\n    }\r\n  },\r\n  'nl-NL': {\r\n    'default': {\r\n      'Name': 'Naam',\r\n      'Instances': 'Instanties',\r\n      'LatestVersion': 'Laatste Versie',\r\n      'PublishedVersion': 'Gepubliceerde Versie',\r\n      'Edit': 'Bewerken',\r\n      'Delete': 'Verwijderen',\r\n      'DeleteConfirmationModel': {\r\n        'Title': 'Verwijder Workflow Definitie',\r\n        'Message': 'Weet je zeker dat je deze workflow permanent wilt verwijderen, inclusief alle bijbehorende workflow instanties?'\r\n      }\r\n    }\r\n  },\r\n  'fa-IR': {\r\n    'default': {\r\n      'Name': 'نام',\r\n      'Instances': 'جریانها',\r\n      'LatestVersion': 'جدیدترین ویرایش',\r\n      'PublishedVersion': 'ویرایش منتشر شده',\r\n      'Edit': 'ویرایش',\r\n      'Delete': 'حذف',\r\n      'DeleteConfirmationModel': {\r\n        'Title': 'حذف تعریف فرآیند',\r\n        'Message': 'آیا از حذف این فرآیند و همه جریانهای آن اطمینان دارید?'\r\n      }\r\n    }\r\n  },\r\n  'de-DE': {\r\n    'default': {\r\n      'Name': 'Name',\r\n      'Instances': 'Instanzen',\r\n      'LatestVersion': 'Neuste Version',\r\n      'PublishedVersion': 'Veröffentlichte Version',\r\n      'Edit': 'Bearbeiten',\r\n      'Delete': 'Entfernen',\r\n      'DeleteConfirmationModel': {\r\n        'Title': 'Ablaufdefinition entfernen',\r\n        'Message': 'Sind Sie sicher, dass sie die Definition und die dazugehörigen Instanzen unwiderruflich löschen wollen?'\r\n      }\r\n    }\r\n  },\r\n};\r\n","import {Component, Event, h, Method, Prop, State} from '@stencil/core';\nimport {createElsaClient} from \"../../../../services\";\nimport {PagedList, VersionOptions, WorkflowDefinitionSummary} from \"../../../../models\";\nimport {injectHistory, LocationSegments, RouterHistory} from \"@stencil/router\";\nimport {i18n} from \"i18next\";\nimport {loadTranslations} from \"../../../i18n/i18n-loader\";\nimport {resources} from \"./localizations\";\nimport {GetIntlMessage} from \"../../../i18n/intl-message\";\nimport Tunnel from \"../../../../data/dashboard\";\nimport {PagerData} from \"../../../controls/elsa-pager/elsa-pager\";\nimport {parseQuery} from \"../../../../utils/utils\";\n\n@Component({\n  tag: 'elsa-workflow-definitions-list-screen',\n  shadow: false,\n})\nexport class ElsaWorkflowDefinitionsListScreen {\n  static readonly DEFAULT_PAGE_SIZE = 15;\n  static readonly MIN_PAGE_SIZE = 5;\n  static readonly MAX_PAGE_SIZE = 100;\n  static readonly START_PAGE = 0;\n\n  @Prop() history?: RouterHistory;\n  @Prop({attribute: 'server-url'}) serverUrl: string;\n  @Prop() culture: string;\n  @Prop() basePath: string;\n  @State() workflowDefinitions: PagedList<WorkflowDefinitionSummary> = {items: [], page: 1, pageSize: 50, totalCount: 0};\n  @State() currentPage: number = 0;\n  @State() currentPageSize: number = ElsaWorkflowDefinitionsListScreen.DEFAULT_PAGE_SIZE;\n  @State() currentSearchTerm?: string;\n\n  private i18next: i18n;\n  private confirmDialog: HTMLElsaConfirmDialogElement;\n  private clearRouteChangedListeners: () => void;\n\n  connectedCallback() {\n    if (!!this.history)\n      this.clearRouteChangedListeners = this.history.listen(e => this.routeChanged(e));\n  }\n\n  disconnectedCallback() {\n    if (!!this.clearRouteChangedListeners)\n      this.clearRouteChangedListeners();\n  }\n\n  async componentWillLoad() {\n    this.i18next = await loadTranslations(this.culture, resources);\n\n    if (!!this.history)\n      this.applyQueryString(this.history.location.search);\n\n    await this.loadWorkflowDefinitions();\n  }\n\n  t = (key: string, options?: any) => this.i18next.t(key, options);\n\n  async onSearch(e: Event) {\n    e.preventDefault();\n    const form = e.currentTarget as HTMLFormElement;\n    const formData = new FormData(form);\n    const searchTerm: FormDataEntryValue = formData.get('searchTerm');\n\n    this.currentSearchTerm = searchTerm.toString();\n    await this.loadWorkflowDefinitions();\n  }\n\n  applyQueryString(queryString?: string) {\n    const query = parseQuery(queryString);\n\n    this.currentPage = !!query.page ? parseInt(query.page) : 0;\n    this.currentPage = isNaN(this.currentPage) ? ElsaWorkflowDefinitionsListScreen.START_PAGE : this.currentPage;\n    this.currentPageSize = !!query.pageSize ? parseInt(query.pageSize) : ElsaWorkflowDefinitionsListScreen.DEFAULT_PAGE_SIZE;\n    this.currentPageSize = isNaN(this.currentPageSize) ? ElsaWorkflowDefinitionsListScreen.DEFAULT_PAGE_SIZE : this.currentPageSize;\n    this.currentPageSize = Math.max(Math.min(this.currentPageSize, ElsaWorkflowDefinitionsListScreen.MAX_PAGE_SIZE), ElsaWorkflowDefinitionsListScreen.MIN_PAGE_SIZE);\n  }\n\n  async onPublishClick(e: Event, workflowDefinition: WorkflowDefinitionSummary) {\n    const elsaClient = await this.createClient();\n    await elsaClient.workflowDefinitionsApi.publish(workflowDefinition.definitionId);\n    await this.loadWorkflowDefinitions();\n  }\n\n  async onUnPublishClick(e: Event, workflowDefinition: WorkflowDefinitionSummary) {\n    const elsaClient = await this.createClient();\n    await elsaClient.workflowDefinitionsApi.retract(workflowDefinition.definitionId);\n    await this.loadWorkflowDefinitions();\n  }\n\n  async onDeleteClick(e: Event, workflowDefinition: WorkflowDefinitionSummary) {\n    const t = x => this.i18next.t(x);\n    const result = await this.confirmDialog.show(t('DeleteConfirmationModel.Title'), t('DeleteConfirmationModel.Message'));\n\n    if (!result)\n      return;\n\n    const elsaClient = await this.createClient();\n    await elsaClient.workflowDefinitionsApi.delete(workflowDefinition.definitionId, {allVersions: true});\n    await this.loadWorkflowDefinitions();\n  }\n\n  async routeChanged(e: LocationSegments) {\n\n    if (!e.pathname.toLowerCase().endsWith('workflow-definitions'))\n      return;\n\n    this.applyQueryString(e.search);\n    await this.loadWorkflowDefinitions();\n  }\n\n  onPaged = async (e: CustomEvent<PagerData>) => {\n    this.currentPage = e.detail.page;\n    await this.loadWorkflowDefinitions();\n  };\n\n  @Method()\n  async loadWorkflowDefinitions() {\n    const elsaClient = await this.createClient();\n    const page = this.currentPage;\n    const pageSize = this.currentPageSize;\n    const latestOrPublishedVersionOptions: VersionOptions = {isLatestOrPublished: true};\n    this.workflowDefinitions = await elsaClient.workflowDefinitionsApi.list(page, pageSize, latestOrPublishedVersionOptions, this.currentSearchTerm);\n  }\n\n  createClient() {\n    return createElsaClient(this.serverUrl);\n  }\n\n  render() {\n    const allDefinitions = this.workflowDefinitions.items;\n    const latestDefinitions = allDefinitions.filter(x => x.isLatest);\n    const publishedDefinitions = allDefinitions.filter(x => x.isPublished);\n    const totalCount = this.workflowDefinitions.totalCount;\n    const i18next = this.i18next;\n    const IntlMessage = GetIntlMessage(i18next);\n    const basePath = this.basePath;\n    const t = this.t;\n\n    return (\n      <div>\n        <div\n          class=\"elsa-relative elsa-z-10 elsa-flex-shrink-0 elsa-flex elsa-h-16 elsa-bg-white elsa-border-b elsa-border-gray-200\">\n          <div class=\"elsa-flex-1 elsa-px-4 elsa-flex elsa-justify-between sm:elsa-px-6 lg:elsa-px-8\">\n            <div class=\"elsa-flex-1 elsa-flex\">\n              <form class=\"elsa-w-full elsa-flex md:ml-0\" onSubmit={e => this.onSearch(e)}>\n                <label htmlFor=\"search_field\" class=\"elsa-sr-only\">Search</label>\n                <div class=\"elsa-relative elsa-w-full elsa-text-gray-400 focus-within:elsa-text-gray-600\">\n                  <div\n                    class=\"elsa-absolute elsa-inset-y-0 elsa-left-0 elsa-flex elsa-items-center elsa-pointer-events-none\">\n                    <svg class=\"elsa-h-5 elsa-w-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n                            d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\"/>\n                    </svg>\n                  </div>\n                  <input name=\"searchTerm\"\n                         class=\"elsa-block elsa-w-full elsa-h-full elsa-pl-8 elsa-pr-3 elsa-py-2 elsa-rounded-md elsa-text-gray-900 elsa-placeholder-gray-500 focus:elsa-placeholder-gray-400 sm:elsa-text-sm elsa-border-0 focus:elsa-outline-none focus:elsa-ring-0\"\n                         placeholder={'Search'}\n                         type=\"search\"/>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"elsa-align-middle elsa-inline-block elsa-min-w-full elsa-border-b elsa-border-gray-200\">\n          <table class=\"elsa-min-w-full\">\n            <thead>\n            <tr class=\"elsa-border-t elsa-border-gray-200\">\n              <th class=\"elsa-px-6 elsa-py-3 elsa-border-b elsa-border-gray-200 elsa-bg-gray-50 elsa-text-left elsa-text-xs elsa-leading-4 elsa-font-medium elsa-text-gray-500 elsa-uppercase elsa-tracking-wider\">\n                <span class=\"lg:elsa-pl-2\"><IntlMessage label=\"Name\"/></span>\n              </th>\n              <th class=\"elsa-px-6 elsa-py-3 elsa-border-b elsa-border-gray-200 elsa-bg-gray-50 elsa-text-left elsa-text-xs elsa-leading-4 elsa-font-medium elsa-text-gray-500 elsa-uppercase elsa-tracking-wider\">\n                <IntlMessage label=\"Instances\"/>\n              </th>\n              <th class=\"hidden md:elsa-table-cell elsa-px-6 elsa-py-3 elsa-border-b elsa-border-gray-200 elsa-bg-gray-50 elsa-text-right elsa-text-xs elsa-leading-4 elsa-font-medium elsa-text-gray-500 elsa-uppercase elsa-tracking-wider\">\n                <IntlMessage label=\"LatestVersion\"/>\n              </th>\n              <th class=\"hidden md:elsa-table-cell elsa-px-6 elsa-py-3 elsa-border-b elsa-border-gray-200 elsa-bg-gray-50 elsa-text-right elsa-text-xs elsa-leading-4 elsa-font-medium elsa-text-gray-500 elsa-uppercase elsa-tracking-wider\">\n                <IntlMessage label=\"PublishedVersion\"/>\n              </th>\n              <th class=\"elsa-pr-6 elsa-py-3 elsa-border-b elsa-border-gray-200 elsa-bg-gray-50 elsa-text-right elsa-text-xs elsa-leading-4 elsa-font-medium elsa-text-gray-500 elsa-uppercase elsa-tracking-wider\"/>\n            </tr>\n            </thead>\n            <tbody class=\"elsa-bg-white elsa-divide-y elsa-divide-gray-100\">\n            {latestDefinitions.map(workflowDefinition => {\n              const latestVersionNumber = workflowDefinition.version;\n              const {isPublished} = workflowDefinition;\n              const publishedVersion: WorkflowDefinitionSummary = isPublished ? workflowDefinition : publishedDefinitions.find(x => x.definitionId == workflowDefinition.definitionId);\n              const publishedVersionNumber = !!publishedVersion ? publishedVersion.version : '-';\n              let workflowDisplayName = workflowDefinition.displayName;\n\n              if (!workflowDisplayName || workflowDisplayName.trim().length == 0)\n                workflowDisplayName = workflowDefinition.name;\n\n              if (!workflowDisplayName || workflowDisplayName.trim().length == 0)\n                workflowDisplayName = 'Untitled';\n\n              const editUrl = `${basePath}/workflow-definitions/${workflowDefinition.definitionId}`;\n              const instancesUrl = `${basePath}/workflow-instances?workflow=${workflowDefinition.definitionId}`;\n\n              const editIcon = (\n                <svg class=\"elsa-h-5 elsa-w-5 elsa-text-gray-500\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"\n                     stroke-linejoin=\"round\">\n                  <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"/>\n                  <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"/>\n                </svg>\n              );\n\n              const deleteIcon = (\n                <svg class=\"elsa-h-5 elsa-w-5 elsa-text-gray-500\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" stroke-width=\"2\" stroke=\"currentColor\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                  <path stroke=\"none\" d=\"M0 0h24v24H0z\"/>\n                  <line x1=\"4\" y1=\"7\" x2=\"20\" y2=\"7\"/>\n                  <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\"/>\n                  <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\"/>\n                  <path d=\"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12\"/>\n                  <path d=\"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3\"/>\n                </svg>\n              );\n\n              const publishIcon = (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"elsa-h-5 elsa-w-5 elsa-text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"/>\n                </svg>\n              );\n\n              const unPublishIcon = (\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"elsa-h-5 elsa-w-5 elsa-text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\"/>\n                </svg>\n              );\n\n              return (\n                <tr>\n                  <td class=\"elsa-px-6 elsa-py-3 elsa-whitespace-no-wrap elsa-text-sm elsa-leading-5 elsa-font-medium elsa-text-gray-900\">\n                    <div class=\"elsa-flex elsa-items-center elsa-space-x-3 lg:elsa-pl-2\">\n                      <elsa-nav-link url={editUrl} anchorClass=\"elsa-truncate hover:elsa-text-gray-600\"><span>{workflowDisplayName}</span></elsa-nav-link>\n                    </div>\n                  </td>\n\n                  <td class=\"elsa-px-6 elsa-py-3 elsa-text-sm elsa-leading-5 elsa-text-gray-500 elsa-font-medium\">\n                    <div class=\"elsa-flex elsa-items-center elsa-space-x-3 lg:elsa-pl-2\">\n                      <elsa-nav-link url={instancesUrl} anchorClass=\"elsa-truncate hover:elsa-text-gray-600\"><IntlMessage label=\"Instances\"/></elsa-nav-link>\n                    </div>\n                  </td>\n\n                  <td class=\"hidden md:elsa-table-cell elsa-px-6 elsa-py-3 elsa-whitespace-no-wrap elsa-text-sm elsa-leading-5 elsa-text-gray-500 elsa-text-right\">{latestVersionNumber}</td>\n                  <td class=\"hidden md:elsa-table-cell elsa-px-6 elsa-py-3 elsa-whitespace-no-wrap elsa-text-sm elsa-leading-5 elsa-text-gray-500 elsa-text-right\">{publishedVersionNumber}</td>\n                  <td class=\"elsa-pr-6\">\n                    <elsa-context-menu history={this.history} menuItems={[\n                      {text: i18next.t('Edit'), anchorUrl: editUrl, icon: editIcon},\n                      isPublished ? {text: i18next.t('Unpublish'), clickHandler: e => this.onUnPublishClick(e, workflowDefinition), icon: unPublishIcon} : {\n                        text: i18next.t('Publish'),\n                        clickHandler: e => this.onPublishClick(e, workflowDefinition),\n                        icon: publishIcon\n                      },\n                      {text: i18next.t('Delete'), clickHandler: e => this.onDeleteClick(e, workflowDefinition), icon: deleteIcon}\n                    ]}/>\n                  </td>\n                </tr>\n              );\n            })}\n            </tbody>\n          </table>\n          <elsa-pager page={this.currentPage} pageSize={this.currentPageSize} totalCount={totalCount} history={this.history} onPaged={this.onPaged} culture={this.culture}/>\n        </div>\n\n        <elsa-confirm-dialog ref={el => this.confirmDialog = el} culture={this.culture}/>\n      </div>\n    );\n  }\n}\n\nTunnel.injectProps(ElsaWorkflowDefinitionsListScreen, ['serverUrl', 'culture', 'basePath']);\ninjectHistory(ElsaWorkflowDefinitionsListScreen);\n"],"names":[],"mappings":"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"}