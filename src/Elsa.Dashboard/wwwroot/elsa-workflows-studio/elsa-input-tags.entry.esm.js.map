{"version":3,"file":"elsa-input-tags.entry.esm.js","sources":["src/components/controls/elsa-input-tags/elsa-input-tags.css?tag=elsa-input-tags","src/components/controls/elsa-input-tags/elsa-input-tags.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n\r\n.elsa-tag-input:focus {\r\n  outline: none !important;\r\n  box-shadow: none !important;\r\n}\r\n","import {Component, h, Prop, Event, EventEmitter, State, Watch} from '@stencil/core';\r\n\r\n@Component({\r\n    tag: 'elsa-input-tags',\r\n    styleUrl: 'elsa-input-tags.css',\r\n    shadow: false,\r\n})\r\nexport class ElsaInputTags {\r\n\r\n    @Prop() fieldName?: string;\r\n    @Prop() fieldId?: string;\r\n    @Prop() placeHolder?: string = 'Add tag';\r\n    @Prop() values?: Array<string> = [];\r\n    @Event({bubbles: true}) valueChanged: EventEmitter<Array<string>>;\r\n    @State() currentValues?: Array<string> = [];\r\n\r\n    @Watch('values')\r\n    valuesChangedHandler(newValue: Array<string>) {\r\n        this.currentValues = newValue || [];\r\n    }\r\n\r\n    componentWillLoad() {\r\n        this.currentValues = this.values;\r\n    }\r\n\r\n    async addItem(item: string)\r\n    {\r\n        const values = [...this.currentValues];\r\n        values.push(item);\r\n        this.currentValues = values.distinct();\r\n        await this.valueChanged.emit(values);\r\n    }\r\n\r\n    async onInputKeyDown(e: KeyboardEvent) {\r\n        if (e.key != \"Enter\")\r\n            return;\r\n\r\n        e.preventDefault();\r\n\r\n        const input = e.target as HTMLInputElement;\r\n        const value = input.value.trim();\r\n\r\n        if (value.length == 0)\r\n            return;\r\n\r\n        await this.addItem(value);\r\n        input.value = '';\r\n    }\r\n\r\n    async onInputBlur(e: Event) {\r\n        const input = e.target as HTMLInputElement;\r\n        const value = input.value.trim();\r\n\r\n        if (value.length == 0)\r\n            return;\r\n\r\n        await this.addItem(value);\r\n        input.value = '';\r\n    }\r\n\r\n    async onDeleteTagClick(e: Event, tag: string) {\r\n        e.preventDefault();\r\n\r\n        this.currentValues = this.currentValues.filter(x => x !== tag);\r\n        await this.valueChanged.emit(this.currentValues);\r\n    }\r\n\r\n    render() {\r\n        let values = this.currentValues || [];\r\n\r\n        if (!Array.isArray(values))\r\n            values = [];\r\n\r\n        const valuesJson = JSON.stringify(values);\r\n\r\n        return (\r\n            <div class=\"elsa-py-2 elsa-px-3 elsa-bg-white elsa-shadow-sm elsa-border elsa-border-gray-300 elsa-rounded-md\">\r\n                {values.map(value => (\r\n                    <a href=\"#\" onClick={e => this.onDeleteTagClick(e, value)} class=\"elsa-inline-block elsa-text-xs elsa-bg-blue-400 elsa-text-white elsa-py-2 elsa-px-3 elsa-mr-1 elsa-mb-1 elsa-rounded\">\r\n                        <span>{value}</span>\r\n                        <span class=\"elsa-text-white hover:elsa-text-white elsa-ml-1\">&times;</span>\r\n                    </a>\r\n                ))}\r\n                <input type=\"text\" id={this.fieldId} \r\n                       onKeyDown={e => this.onInputKeyDown(e)}\r\n                       onBlur={e => this.onInputBlur(e)}\r\n                       class=\"elsa-tag-input elsa-inline-block elsa-text-sm elsa-outline-none focus:elsa-outline-none elsa-border-none shadow:none focus:elsa-border-none focus:elsa-border-transparent focus:shadow-none\"\r\n                       placeholder={this.placeHolder}/>\r\n                <input type=\"hidden\" name={this.fieldName} value={valuesJson}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}