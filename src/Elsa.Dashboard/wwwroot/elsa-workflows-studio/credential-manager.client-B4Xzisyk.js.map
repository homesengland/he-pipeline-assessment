{"version":3,"file":"credential-manager.client-B4Xzisyk.js","sources":["src/modules/credential-manager/services/credential-manager.client.ts"],"sourcesContent":["import { createHttpClient } from '../../../services/elsa-client';\nimport { SecretModel } from \"../models/secret.model\";\n\nlet _elsaSecretsClient: ElsaSecretsClient = null;\n\nexport const createElsaSecretsClient = async function (serverUrl: string): Promise<ElsaSecretsClient> {\n\n  if (!!_elsaSecretsClient)\n    return _elsaSecretsClient;\n\n  const httpClient = await createHttpClient(serverUrl);\n\n  _elsaSecretsClient = {\n    secretsApi: {\n      list: async () => {\n        const response = await httpClient.get<Array<SecretModel>>(`v1/secrets`);\n        return response.data;\n      },\n      save: async request => {\n        const response = await httpClient.post<SecretModel>('v1/secrets', request);\n        return response.data;\n      },\n      delete: async id => {\n        await httpClient.delete(`v1/secrets/${id}`);\n      },\n    }\n  }\n\n  return _elsaSecretsClient;\n}\n\nexport interface ElsaSecretsClient {\n  secretsApi: SecretsApi;\n}\n\nexport interface SecretsApi {\n\n  list(): Promise<Array<SecretModel>>;\n\n  save(request: SecretModel): Promise<SecretModel>;\n\n  delete(secretId: string): Promise<void>;\n}\n"],"names":[],"mappings":";;AAGA,IAAI,kBAAkB,GAAsB,IAAI;AAEnC,MAAA,uBAAuB,GAAG,gBAAgB,SAAiB,EAAA;IAEtE,IAAI,CAAC,CAAC,kBAAkB;AACtB,QAAA,OAAO,kBAAkB;AAE3B,IAAA,MAAM,UAAU,GAAG,MAAM,gBAAgB,CAAC,SAAS,CAAC;AAEpD,IAAA,kBAAkB,GAAG;AACnB,QAAA,UAAU,EAAE;YACV,IAAI,EAAE,YAAW;gBACf,MAAM,QAAQ,GAAG,MAAM,UAAU,CAAC,GAAG,CAAqB,CAAY,UAAA,CAAA,CAAC;gBACvE,OAAO,QAAQ,CAAC,IAAI;aACrB;AACD,YAAA,IAAI,EAAE,OAAM,OAAO,KAAG;gBACpB,MAAM,QAAQ,GAAG,MAAM,UAAU,CAAC,IAAI,CAAc,YAAY,EAAE,OAAO,CAAC;gBAC1E,OAAO,QAAQ,CAAC,IAAI;aACrB;AACD,YAAA,MAAM,EAAE,OAAM,EAAE,KAAG;gBACjB,MAAM,UAAU,CAAC,MAAM,CAAC,cAAc,EAAE,CAAA,CAAE,CAAC;aAC5C;AACF;KACF;AAED,IAAA,OAAO,kBAAkB;AAC3B;;;;"}