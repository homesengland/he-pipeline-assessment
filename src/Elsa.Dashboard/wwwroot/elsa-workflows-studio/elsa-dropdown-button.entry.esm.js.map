{"version":3,"file":"elsa-dropdown-button.entry.esm.js","sources":["src/components/controls/elsa-dropdown-button/elsa-dropdown-button.css?tag=elsa-dropdown-button","src/components/controls/elsa-dropdown-button/elsa-dropdown-button.tsx"],"sourcesContent":["","import {Component, Event, EventEmitter, Listen, h, Prop} from '@stencil/core';\nimport {leave, toggle} from 'el-transition'\nimport {DropdownButtonItem, DropdownButtonOrigin} from \"./models\";\n\n@Component({\n    tag: 'elsa-dropdown-button',\n    styleUrl: 'elsa-dropdown-button.css',\n    shadow: false,\n})\nexport class ElsaContextMenu {\n    @Prop() text: string;\n    @Prop() icon?: any;\n    @Prop() btnClass?: string = \" elsa-w-full elsa-bg-white elsa-border elsa-border-gray-300 elsa-rounded-md elsa-shadow-sm elsa-px-4 elsa-py-2 elsa-inline-flex elsa-justify-center elsa-text-sm elsa-font-medium elsa-text-gray-700 hover:elsa-bg-gray-50 focus:elsa-outline-none focus:elsa-ring-2 focus:elsa-ring-offset-2 focus:elsa-ring-blue-500\"\n    @Prop() origin: DropdownButtonOrigin = DropdownButtonOrigin.TopLeft;\n    @Prop() items: Array<DropdownButtonItem> = [];\n\n    @Event() itemSelected: EventEmitter<DropdownButtonItem>\n\n    contextMenu: HTMLElement;\n    element: HTMLElement;\n\n    @Listen('click', {target: 'window'})\n    onWindowClicked(event: Event){\n        const target = event.target as HTMLElement;\n\n        if (!this.element.contains(target))\n            this.closeContextMenu();\n    }\n\n    closeContextMenu() {\n        if (!!this.contextMenu)\n            leave(this.contextMenu);\n    }\n\n    toggleMenu() {\n        if (!!this.contextMenu)\n            toggle(this.contextMenu);\n    }\n\n    getOriginClass(): string {\n        switch (this.origin) {\n            case DropdownButtonOrigin.TopLeft:\n                return `elsa-left-0 elsa-origin-top-left`;\n            case DropdownButtonOrigin.TopRight:\n            default:\n                return 'elsa-right-0 elsa-origin-top-right';\n        }\n    }\n\n    async onItemClick(e: Event, menuItem: DropdownButtonItem) {\n        e.preventDefault();\n        this.itemSelected.emit(menuItem);\n        this.closeContextMenu();\n    }\n\n    render() {\n        return (\n            <div class=\"elsa-relative\" ref={el => this.element = el}>\n                <button onClick={e => this.toggleMenu()} type=\"button\"\n                        class={this.btnClass}\n                        aria-haspopup=\"true\" aria-expanded=\"false\">\n                    {this.renderIcon()}\n                    {this.text}\n                    <svg class=\"elsa-ml-2.5 -elsa-elsa-mr-1.5 elsa-h-5 elsa-w-5 elsa-text-gray-400\" x-description=\"Heroicon name: chevron-down\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\n                        <path fill-rule=\"evenodd\" d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clip-rule=\"evenodd\"/>\n                    </svg>\n                </button>\n                {this.renderMenu()}\n            </div>\n        );\n    }\n\n    renderMenu() {\n        if (this.items.length == 0)\n            return;\n\n        const originClass = this.getOriginClass();\n\n        return <div ref={el => this.contextMenu = el}\n                    data-transition-enter=\"elsa-transition elsa-ease-out elsa-duration-100\"\n                    data-transition-enter-start=\"elsa-transform elsa-opacity-0 elsa-scale-95\"\n                    data-transition-leave=\"elsa-transition elsa-ease-in elsa-duration-75\"\n                    data-transition-leave-start=\"elsa-transform elsa-opacity-100 elsa-scale-100\"\n                    data-transition-leave-end=\"elsa-transform elsa-opacity-0 elsa-scale-95\"\n                    class={`hidden ${originClass} elsa-z-10 elsa-absolute elsa-mt-2 elsa-w-56 elsa-rounded-md elsa-shadow-lg elsa-bg-white elsa-ring-1 elsa-ring-black elsa-ring-opacity-5`}>\n            <div class=\"elsa-py-1\" role=\"menu\" aria-orientation=\"vertical\">\n                {this.renderItems()}\n            </div>\n        </div>;\n    }\n\n    renderItems() {\n        return this.items.map(item => {\n            const selectedCssClass = item.isSelected ? \"elsa-bg-blue-600 hover:elsa-bg-blue-700 elsa-text-white\" : \"hover:elsa-bg-gray-100 elsa-text-gray-700 hover:elsa-text-gray-900\";\n\n            return !!item.url\n                ? <elsa-nav-link onClick={e => this.closeContextMenu()} url={item.url} anchorClass={`elsa-block elsa-px-4 elsa-py-2 elsa-text-sm ${selectedCssClass} elsa-cursor-pointer`} role=\"menuitem\">{item.text}</elsa-nav-link>\n                : <a href=\"#\" onClick={e => this.onItemClick(e, item)} class={`elsa-block elsa-px-4 elsa-py-2 elsa-text-sm ${selectedCssClass}`} role=\"menuitem\">{item.text}</a>;\n        })\n    }\n\n    renderIcon() {\n        if (!this.icon)\n            return;\n\n        return this.icon;\n    }\n}\n"],"names":[],"mappings":"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"}