{"version":3,"file":"elsa-nav-link.entry.esm.js","sources":["src/components/navigation/elsa-nav-link/elsa-nav-link.tsx"],"sourcesContent":["import { Component, Prop, h } from '@stencil/core';\n\n/**\n * Lightweight replacement for stencil-route-link to eliminate @stencil-community/router dependency.\n * Provides anchor rendering with active class evaluation based on current window.location.\n * Performs client-side navigation using history.pushState to avoid page reloads.\n * NOTE: For now, active check is a simple startsWith; can be enhanced for exact matching.\n */\n@Component({\n  tag: 'elsa-nav-link',\n  shadow: false,\n})\nexport class ElsaNavLink {\n  /** Target URL */\n  @Prop() url: string;\n  /** CSS class applied to anchor */\n  @Prop() anchorClass?: string;\n  /** Class appended when current location matches URL */\n  @Prop() activeClass?: string;\n  /** Optional rel attribute */\n  @Prop() rel?: string;\n  /** Optional target attribute */\n  @Prop() target?: string;\n\n  private isActive(): boolean {\n    try {\n      return !!this.url && window.location.pathname.startsWith(this.url);\n    } catch {\n      return false;\n    }\n  }\n\n  private handleClick = (event: MouseEvent) => {\n    // Allow normal navigation for external links, new tabs, or modified clicks\n    if (this.target || this.rel === 'external' || event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n\n    // Prevent default anchor behavior and use history API for SPA navigation\n    event.preventDefault();\n\n    if (this.url && window.location.pathname !== this.url) {\n      window.history.pushState({}, '', this.url);\n      // Dispatch a custom event that can be listened to for route changes\n      window.dispatchEvent(new PopStateEvent('popstate'));\n    }\n  }\n\n  render() {\n    const isActive = this.isActive();\n    const classes = [this.anchorClass, isActive ? this.activeClass : null].filter(x => !!x).join(' ');\n    return (\n      <a href={this.url} class={classes} rel={this.rel} target={this.target} onClick={this.handleClick}>\n        <slot />\n      </a>\n    );\n  }\n}\n"],"names":[],"mappings":";;MAYa,WAAW,GAAA,MAAA;AAJxB,IAAA,WAAA,CAAA,OAAA,EAAA;;AAwBU,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,KAAiB,KAAI;;YAE1C,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,GAAG,KAAK,UAAU,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,QAAQ,EAAE;gBAC9F;;;YAIF,KAAK,CAAC,cAAc,EAAE;AAEtB,YAAA,IAAI,IAAI,CAAC,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,QAAQ,KAAK,IAAI,CAAC,GAAG,EAAE;AACrD,gBAAA,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,EAAE,IAAI,CAAC,GAAG,CAAC;;gBAE1C,MAAM,CAAC,aAAa,CAAC,IAAI,aAAa,CAAC,UAAU,CAAC,CAAC;;AAEvD,SAAC;AAWF;IAjCS,QAAQ,GAAA;AACd,QAAA,IAAI;AACF,YAAA,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC;;QAClE,OAAA,EAAA,EAAM;AACN,YAAA,OAAO,KAAK;;;IAoBhB,MAAM,GAAA;AACJ,QAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,EAAE;AAChC,QAAA,MAAM,OAAO,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;QACjG,QACE,CAAA,CAAA,GAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAG,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,EAAA,EAC9F,CAAQ,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,CAAA,CACN;;;;;;"}