{"version":3,"file":"index-FqXAnKkK.js","sources":["src/models/domain.ts","src/models/event-args.ts"],"sourcesContent":["import { Map } from '../utils/utils';\n\nexport interface WorkflowDefinition {\n  id?: string;\n  definitionId?: string;\n  tenantId?: string;\n  name?: string;\n  displayName?: string;\n  description?: string;\n  version: number;\n  variables?: string;\n  customAttributes?: Variables;\n  contextOptions?: WorkflowContextOptions;\n  isSingleton?: boolean;\n  persistenceBehavior?: WorkflowPersistenceBehavior;\n  deleteCompletedInstances?: boolean;\n  isPublished: boolean;\n  isLatest: boolean;\n  activities: Array<ActivityDefinition>;\n  connections: Array<ConnectionDefinition>;\n  tag?: string;\n  channel?: string;\n}\n\nexport interface WorkflowDefinitionSummary {\n  id?: string;\n  definitionId?: string;\n  tenantId?: string;\n  name?: string;\n  displayName?: string;\n  description?: string;\n  version: number;\n  isSingleton?: boolean;\n  persistenceBehavior?: WorkflowPersistenceBehavior;\n  isPublished?: boolean;\n  isLatest?: boolean;\n  tag?: string;\n}\n\nexport interface WorkflowDefinitionVersion {\n  id: string;\n  definitionId: string;\n  version: number;\n  isLatest: boolean;\n  isPublished: boolean;\n  createdAt: Date;\n}\n\nexport interface ActivityBlueprint {\n  id: string;\n  name?: string;\n  displayName?: string;\n  description?: string;\n  type: string;\n  parentId?: string;\n  persistWorkflow: boolean;\n  loadWorkflowContext: boolean;\n  saveWorkflowContext: boolean;\n  source?: string;\n  inputProperties: Variables;\n  outputProperties: Variables;\n  propertyStorageProviders: Map<string>;\n  x?: number;\n  y?: number;\n}\n\nexport interface Connection {\n  sourceActivityId: string;\n  targetActivityId: string;\n  outcome: string;\n}\n\nexport interface CompositeActivityBlueprint extends ActivityBlueprint {\n  activities: Array<ActivityBlueprint>;\n  connections: Array<Connection>;\n}\n\nexport interface WorkflowBlueprint extends CompositeActivityBlueprint {\n  version: number;\n  tenantId?: string;\n  isSingleton: boolean;\n  isPublished: boolean;\n  isLatest: boolean;\n  tag?: string;\n  contextOptions?: WorkflowContextOptions;\n  variables: Variables;\n  customAttributes: Variables;\n  persistenceBehavior: WorkflowPersistenceBehavior;\n}\n\nexport interface WorkflowBlueprintSummary {\n  id: string;\n  versionId: string;\n  name?: string;\n  displayName?: string;\n  description?: string;\n  version: number;\n  tenantId?: string;\n  isSingleton: boolean;\n  isPublished: boolean;\n  isLatest: boolean;\n  isDisabled: boolean;\n  tag?: string;\n}\n\nexport interface WorkflowInstance {\n  id: string;\n  definitionId: string;\n  definitionVersionId: string;\n  tenantId?: string;\n  version: number;\n  workflowStatus: WorkflowStatus;\n  correlationId?: string;\n  contextType?: string;\n  contextId?: string;\n  name?: string;\n  createdAt?: Date;\n  lastExecutedAt?: Date;\n  finishedAt?: Date;\n  faultedAt?: Date;\n  variables: Variables;\n  output?: any;\n  activityData?: Map<any>;\n  activityOutput?: Map<any>;\n  blockingActivities: Array<BlockingActivity>;\n  faults?: Array<WorkflowFault>;\n  scheduledActivities: Array<ScheduledActivity>;\n  scopes: Array<ActivityScope>;\n  currentActivity: ScheduledActivity;\n}\n\nexport interface WorkflowInstanceSummary {\n  id: string;\n  definitionId: string;\n  definitionVersionId: string;\n  tenantId?: string;\n  version: number;\n  workflowStatus: WorkflowStatus;\n  correlationId?: string;\n  contextType?: string;\n  contextId?: string;\n  name?: string;\n  createdAt?: Date;\n  lastExecutedAt?: Date;\n  finishedAt?: Date;\n  cancelledAt?: Date;\n  faultedAt?: Date;\n}\n\nexport interface ActivityDefinition {\n  activityId: string;\n  type: string;\n  name: string;\n  displayName: string;\n  description: string;\n  top?: number;\n  left?: number;\n  x?: number;\n  y?: number;\n  persistWorkflow: boolean;\n  loadWorkflowContext: boolean;\n  saveWorkflowContext: boolean;\n  properties: Array<ActivityDefinitionProperty>;\n  propertyStorageProviders: Map<string>;\n}\n\nexport interface WorkflowExecutionLogRecord {\n  id: string;\n  workflowInstanceId: string;\n  activityId: string;\n  activityType: string;\n  timestamp: Date;\n  eventName: string;\n  message?: string;\n  source?: string;\n  data?: any;\n}\n\nexport interface ConnectionDefinition {\n  sourceActivityId?: string;\n  targetActivityId?: string;\n  outcome?: string;\n}\n\nexport interface ConnectionDefinitionMapped {\n  sourceId: string;\n  sourceActivityId: string;\n  targetId: string;\n  targetActivityId: string;\n  outcome: string;\n}\n\nexport interface ActivityDefinitionProperty {\n  name: string;\n  syntax?: string;\n  expressions: Map<string>;\n  value?: any;\n}\n\ninterface BlockingActivity {\n  activityId: string;\n  activityType: string;\n  tag?: string;\n}\n\ninterface ScheduledActivity {\n  activityId: string;\n  input?: any;\n}\n\ninterface ActivityScope {\n  activityId: string;\n  variables: Variables;\n}\n\nexport interface Variables {\n  data: Map<any>;\n}\n\nexport interface WorkflowContextOptions {\n  contextType: string;\n  contextFidelity: WorkflowContextFidelity;\n}\n\nexport enum WorkflowContextFidelity {\n  Burst = 'Burst',\n  Activity = 'Activity',\n}\n\nexport enum WorkflowPersistenceBehavior {\n  Suspended = 'Suspended',\n  WorkflowBurst = ' WorkflowBurst',\n  WorkflowPassCompleted = 'WorkflowPassCompleted',\n  ActivityExecuted = 'ActivityExecuted',\n}\n\nexport interface VersionOptions {\n  isLatest?: boolean;\n  isLatestOrPublished?: boolean;\n  isPublished?: boolean;\n  isDraft?: boolean;\n  allVersions?: boolean;\n  version?: number;\n}\n\nexport enum WorkflowStatus {\n  Idle = 'Idle',\n  Running = 'Running',\n  Finished = 'Finished',\n  Suspended = 'Suspended',\n  Faulted = 'Faulted',\n  Cancelled = 'Cancelled',\n}\n\nexport enum OrderBy {\n  Started = 'Started',\n  LastExecuted = 'LastExecuted',\n  Finished = 'Finished',\n}\n\nexport interface SimpleException {\n  type: string;\n  message: string;\n  stackTrace: string;\n  innerException?: SimpleException;\n}\n\nexport interface WorkflowFault {\n  exception?: SimpleException;\n  message: string;\n  faultedActivityId?: string;\n  activityInput?: any;\n  resuming: boolean;\n}\n\nexport interface ActivityDescriptor {\n  type: string;\n  displayName: string;\n  description?: string;\n  category: string;\n  traits: ActivityTraits;\n  outcomes: Array<string>;\n  browsable: boolean;\n  inputProperties: Array<ActivityPropertyDescriptor>;\n  outputProperties: Array<ActivityPropertyDescriptor>;\n  customAttributes: any;\n  version?: number;\n  isContainer?: boolean;\n}\n\nexport interface ActivityPropertyDescriptor {\n  name: string;\n  uiHint: string;\n  label?: string;\n  hint?: string;\n  options?: SelectList | RuntimeSelectListProviderSettings | CodeEditorSettings | PropertySettings | Array<any>;\n  category?: string;\n  defaultValue?: any;\n  defaultSyntax?: string;\n  supportedSyntaxes: Array<string>;\n  isReadOnly?: boolean;\n  defaultWorkflowStorageProvider?: string;\n  disableWorkflowProviderSelection: boolean;\n  considerValuesAsOutcomes?: boolean;\n  type?: string;\n}\n\nexport interface WorkflowStorageDescriptor {\n  name: string;\n  displayName?: string;\n}\n\nexport interface WorkflowProviderDescriptor {\n  name: string;\n  displayName?: string;\n}\n\nexport interface PagedList<T> {\n  items: Array<T>;\n  page?: number;\n  pageSize?: number;\n  totalCount: number;\n}\n\nexport interface ListModel<T> {\n  items: Array<T>;\n}\n\nexport enum ActivityTraits {\n  None = 0,\n  Action = 1,\n  Trigger = 2,\n  Job = 4,\n}\n\nexport interface SelectList {\n  items: Array<SelectListItem> | Array<string>;\n  isFlagsEnum: boolean;\n}\n\nexport interface SelectListItem {\n  text: string;\n  value: string;\n}\n\nexport interface RuntimeSelectListProviderSettings {\n  runtimeSelectListProviderType: string;\n  context?: any;\n}\n\nexport interface CodeEditorSettings extends PropertySettings {\n  syntax?: string;\n}\n\nexport interface PropertySettings {\n  editorHeight?: string\n  context?: string;\n}\n\nexport class SyntaxNames {\n  static readonly Literal = 'Literal';\n  static readonly JavaScript = 'JavaScript';\n  static readonly Liquid = 'Liquid';\n  static readonly Json = 'Json';\n  static Variable = 'Variable';\n  static Output = 'Output';\n}\n\nexport interface WorkflowTestActivityMessage {\n  activityType: string;\n  workflowInstanceId: string;\n  correlationId: string;\n  activityId: string;\n  status: string;\n  workflowStatus: string;\n  data?: any;\n  error?: string;\n  activityData?: any;\n}\n\nexport const getVersionOptionsString = (versionOptions?: VersionOptions) => {\n  if (!versionOptions) return '';\n\n  return versionOptions.allVersions\n    ? 'AllVersions'\n    : versionOptions.isDraft\n      ? 'Draft'\n      : versionOptions.isLatest\n        ? 'Latest'\n        : versionOptions.isPublished\n          ? 'Published'\n          : versionOptions.isLatestOrPublished\n            ? 'LatestOrPublished'\n            : versionOptions.version.toString();\n};\n\nexport enum WorkflowTestActivityMessageStatus {\n  Done = 'Done',\n  Waiting = 'Waiting',\n  Failed = 'Failed',\n  Modified = 'Modified',\n}\n\nexport interface IntellisenseContext {\n  activityTypeName: string;\n  propertyName: string;\n}\n","import {Edge, Graph, Node} from \"@antv/x6\";\r\nimport { ActivityModel, ConnectionModel } from \"./view\";\r\n\r\nexport interface ActivitySelectedArgs {\r\n  activity: ActivityModel;\r\n}\r\n\r\nexport interface ActivityDeletedArgs {\r\n  activity: ActivityModel;\r\n}\r\n\r\nexport interface ContainerSelectedArgs {\r\n  activity: ActivityModel;\r\n}\r\n\r\nexport interface GraphUpdatedArgs {\r\n}\r\n\r\nexport interface EditChildActivityArgs {\r\n  parentActivityId: string;\r\n}\r\n\r\nexport interface ChildActivitySelectedArgs {\r\n  parentActivity: ActivityModel;\r\n  childActivity: ActivityModel;\r\n}\r\n\r\nexport const FlowchartEvents = {\r\n  ConnectionCreated: 'connection-created'\r\n}\r\n\r\nexport interface ConnectionCreatedEventArgs {\r\n  graph: Graph;\r\n  connection: ConnectionModel;\r\n  sourceNode: Node<Node.Properties>;\r\n  targetNode: Node<Node.Properties>;\r\n  sourceActivity: ActivityModel;\r\n  targetActivity: ActivityModel;\r\n  edge: Edge<Edge.Properties>;\r\n}\r\n"],"names":[],"mappings":"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"}