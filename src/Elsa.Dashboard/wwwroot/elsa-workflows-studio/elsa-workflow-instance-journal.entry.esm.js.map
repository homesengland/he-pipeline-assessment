{"version":3,"file":"elsa-workflow-instance-journal.entry.esm.js","sources":["src/components/screens/workflow-instance-viewer/elsa-workflow-instance-journal/elsa-workflow-instance-journal.tsx"],"sourcesContent":["import {Component, Event, EventEmitter, h, Host, Method, Prop, State, Watch} from '@stencil/core';\r\nimport * as collection from 'lodash/collection';\r\nimport moment from 'moment';\r\nimport {\r\n  ActivityBlueprint,\r\n  ActivityDescriptor,\r\n  PagedList,\r\n  WorkflowBlueprint,\r\n  WorkflowExecutionLogRecord, WorkflowInstance,\r\n  WorkflowModel, WorkflowStatus,\r\n} from \"../../../../models\";\r\nimport {activityIconProvider} from \"../../../../services/activity-icon-provider\";\r\nimport {createElsaClient} from \"../../../../services/elsa-client\";\r\nimport {clip, durationToString} from \"../../../../utils/utils\";\r\n\r\ninterface Tab {\r\n  id: string;\r\n  text: string;\r\n  view: () => any;\r\n}\r\n\r\n@Component({\r\n  tag: 'elsa-workflow-instance-journal',\r\n  shadow: false,\r\n})\r\nexport class ElsaWorkflowInstanceJournal {\r\n\r\n  @Prop() workflowInstanceId: string;\r\n  @Prop() workflowInstance: WorkflowInstance;\r\n  @Prop() serverUrl: string;\r\n  @Prop() activityDescriptors: Array<ActivityDescriptor> = [];\r\n  @Prop() workflowBlueprint: WorkflowBlueprint;\r\n  @Prop() workflowModel: WorkflowModel;\r\n  @Event() recordSelected: EventEmitter<WorkflowExecutionLogRecord>;\r\n  @State() isVisible: boolean = true;\r\n  @State() records: PagedList<WorkflowExecutionLogRecord> = {items: [], totalCount: 0};\r\n  @State() filteredRecords: Array<WorkflowExecutionLogRecord> = [];\r\n  @State() selectedRecordId?: string;\r\n  @State() selectedActivityId?: string;\r\n  @State() selectedTabId: string = 'journal';\r\n\r\n  el: HTMLElement;\r\n  flyoutPanel: HTMLElsaFlyoutPanelElement;\r\n\r\n  @Method()\r\n  async selectActivityRecord(activityId?: string) {\r\n    const record = !!activityId ? this.filteredRecords.find(x => x.activityId == activityId) : null;\r\n    this.selectActivityRecordInternal(record);\r\n    await this.flyoutPanel.selectTab('journal', true);\r\n  }\r\n\r\n  @Watch('workflowInstanceId')\r\n  async workflowInstanceIdChangedHandler(newValue: string) {\r\n    const workflowInstanceId = newValue;\r\n    const client = await createElsaClient(this.serverUrl);\r\n\r\n    if (workflowInstanceId && workflowInstanceId.length > 0) {\r\n      try {\r\n        this.records = await client.workflowExecutionLogApi.get(workflowInstanceId);\r\n        this.filteredRecords = this.records.items.filter(x => x.eventName != 'Executing' && x.eventName != 'Resuming');\r\n      } catch {\r\n        console.warn('The specified workflow instance does not exist.');\r\n      }\r\n    }\r\n  }\r\n\r\n  async componentWillLoad() {\r\n    await this.workflowInstanceIdChangedHandler(this.workflowInstanceId);\r\n  }\r\n\r\n  selectActivityRecordInternal(record?: WorkflowExecutionLogRecord) {\r\n    const activity = !!record ? this.workflowBlueprint.activities.find(x => x.id === record.activityId) : null;\r\n    this.selectedRecordId = !!record ? record.id : null;\r\n    this.selectedActivityId = activity != null ? !!activity.parentId && activity.parentId != this.workflowBlueprint.id ? activity.parentId : activity.id : null;\r\n  }\r\n\r\n  getEventColor(eventName: string) {\r\n    const map = {\r\n      'Executing': 'elsa-bg-blue-500',\r\n      'Executed': 'elsa-bg-green-500',\r\n      'Faulted': 'elsa-bg-rose-500',\r\n      'Warning': 'elsa-bg-yellow-500',\r\n      'Information': 'elsa-bg-blue-500',\r\n    };\r\n\r\n    return map[eventName] || 'elsa-bg-gray-500';\r\n  }\r\n\r\n  getStatusColor(status: WorkflowStatus) {\r\n    switch (status) {\r\n      default:\r\n      case WorkflowStatus.Idle:\r\n        return 'gray';\r\n      case WorkflowStatus.Running:\r\n        return 'rose';\r\n      case WorkflowStatus.Suspended:\r\n        return 'blue';\r\n      case WorkflowStatus.Finished:\r\n        return 'green';\r\n      case WorkflowStatus.Faulted:\r\n        return 'red';\r\n      case WorkflowStatus.Cancelled:\r\n        return 'yellow';\r\n    }\r\n  }\r\n\r\n  onRecordClick(record: WorkflowExecutionLogRecord) {\r\n    this.selectActivityRecordInternal(record);\r\n    this.recordSelected.emit(record);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        {this.renderPanel()}\r\n        <elsa-workflow-definition-editor-notifications/>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n  renderPanel() {\r\n    return (\r\n      <elsa-flyout-panel ref={el => this.flyoutPanel = el}>\r\n        <elsa-tab-header tab=\"general\" slot=\"header\">General</elsa-tab-header>\r\n        <elsa-tab-content tab=\"general\" slot=\"content\">\r\n          {this.renderGeneralTab()}\r\n        </elsa-tab-content>\r\n        <elsa-tab-header tab=\"journal\" slot=\"header\">Journal</elsa-tab-header>\r\n        <elsa-tab-content tab=\"journal\" slot=\"content\">\r\n          {this.renderJournalTab()}\r\n        </elsa-tab-content>\r\n        <elsa-tab-header tab=\"activityState\" slot=\"header\">Activity State</elsa-tab-header>\r\n        <elsa-tab-content tab=\"activityState\" slot=\"content\">\r\n          {this.renderActivityStateTab()}\r\n        </elsa-tab-content>\r\n        <elsa-tab-header tab=\"variables\" slot=\"header\">\r\n          Variables\r\n        </elsa-tab-header>\r\n        <elsa-tab-content tab=\"variables\" slot=\"content\">\r\n          {this.renderVariablesTab()}\r\n        </elsa-tab-content>\r\n      </elsa-flyout-panel>\r\n    );\r\n  }\r\n\r\n  renderJournalTab = () => {\r\n    const items = this.filteredRecords;\r\n    const allItems = this.records.items;\r\n    const activityDescriptors = this.activityDescriptors;\r\n    const workflowBlueprint = this.workflowBlueprint;\r\n    const activityBlueprints: Array<ActivityBlueprint> = workflowBlueprint.activities || [];\r\n    const selectedRecordId = this.selectedRecordId;\r\n    \r\n\r\n    const renderRecord = (record: WorkflowExecutionLogRecord, index: number) => {\r\n      var prevItemReverseIndex = allItems\r\n        .slice(0, allItems.indexOf(items[index]))\r\n        .reverse()\r\n        .findIndex((e)=>{\r\n          return (e.activityId == record.activityId);\r\n        });\r\n\r\n      const prevItem = allItems[allItems.indexOf(items[index]) - (prevItemReverseIndex+1)];\r\n      const currentTimestamp = moment(record.timestamp);\r\n      const prevTimestamp = moment(prevItem.timestamp);\r\n      const deltaTime = moment.duration(currentTimestamp.diff(prevTimestamp));\r\n      const activityType = record.activityType;\r\n      const activityIcon = activityIconProvider.getIcon(activityType);\r\n\r\n      const activityDescriptor = activityDescriptors.find(x => x.type === activityType) || {\r\n        displayName: null,\r\n        type: null\r\n      };\r\n\r\n      const activityBlueprint = activityBlueprints.find(x => x.id === record.activityId) || {\r\n        name: null,\r\n        displayName: null\r\n      };\r\n\r\n      const activityName = activityBlueprint.displayName || activityBlueprint.name || activityDescriptor.displayName || activityDescriptor.type || '(Not Found): ' + activityType;\r\n      const eventName = record.eventName;\r\n      const eventColor = this.getEventColor(eventName);\r\n      const recordClass = record.id === selectedRecordId ? 'elsa-border-blue-600' : 'hover:elsa-bg-gray-100 elsa-border-transparent';\r\n      const recordData = record.data || {};\r\n      const filteredRecordData = {};\r\n      const wellKnownDataKeys = {State: true, Input: null, Outcomes: true, Exception: true};\r\n\r\n      for (const key in recordData) {\r\n\r\n        if (!recordData.hasOwnProperty(key))\r\n          continue;\r\n\r\n        if (!!wellKnownDataKeys[key])\r\n          continue;\r\n\r\n        const value = recordData[key];\r\n\r\n        if (!value && value != 0)\r\n          continue;\r\n\r\n        let valueText = null;\r\n\r\n        if (typeof value == 'string')\r\n          valueText = value;\r\n        else if (typeof value == 'object')\r\n          valueText = JSON.stringify(value, null, 1);\r\n        else if (typeof value == 'undefined')\r\n          valueText = null;\r\n        else\r\n          valueText = value.toString();\r\n\r\n        filteredRecordData[key] = valueText;\r\n      }\r\n\r\n      const deltaTimeText = durationToString(deltaTime);\r\n      const outcomes = !!recordData.Outcomes ? recordData.Outcomes || [] : [];\r\n      const exception = !!recordData.Exception ? recordData.Exception : null;\r\n\r\n      const renderExceptionMessage = (exception: any) => {\r\n        return (\r\n          <div>\r\n            <div class=\"elsa-mb-4\">\r\n              <strong class=\"elsa-block elsa-font-bold\">{exception.Type}</strong>\r\n              {exception.Message}\r\n            </div>\r\n            {!!exception.InnerException ?\r\n              <div class=\"elsa-ml-4\">{renderExceptionMessage(exception.InnerException)}</div> : undefined}\r\n          </div>\r\n        );\r\n      }\r\n\r\n      return (\r\n        <li>\r\n          <div onClick={() => this.onRecordClick(record)}\r\n               class={`${recordClass} elsa-border-2 elsa-cursor-pointer elsa-p-4 elsa-rounded`}>\r\n            <div class=\"elsa-relative elsa-pb-10\">\r\n              <div class=\"elsa-flex elsa-absolute top-8 elsa-left-4 -elsa-ml-px elsa-h-full elsa-w-0.5\">\r\n                <div class=\"elsa-flex elsa-flex-1 elsa-items-center elsa-relative elsa-right-10\">\r\n                  <span\r\n                    class=\"elsa-flex-1 elsa-text-sm elsa-text-gray-500 elsa-w-max elsa-bg-white elsa-p-1 elsa-ml-1 elsa-rounded-r\">{deltaTimeText}</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"elsa-relative elsa-flex elsa-space-x-3\">\r\n                <div>\r\n                  <span\r\n                    class={`elsa-h-8 elsa-w-8 elsa-rounded-full ${eventColor} elsa-flex elsa-items-center elsa-justify-center elsa-ring-8 elsa-ring-white elsa-mr-1`}\r\n                    innerHTML={activityIcon}/>\r\n                </div>\r\n                <div class=\"elsa-min-w-0 elsa-flex-1 elsa-pt-1.5 elsa-flex elsa-justify-between elsa-space-x-4\">\r\n                  <div>\r\n                    <h3 class=\"elsa-text-lg elsa-leading-6 elsa-font-medium elsa-text-gray-900\">\r\n                      {activityName}\r\n                    </h3>\r\n                  </div>\r\n                  <div>\r\n                    <span\r\n                      class=\"elsa-relative elsa-inline-flex elsa-items-center elsa-rounded-full elsa-border elsa-border-gray-300 elsa-px-3 elsa-py-0.5 elsa-text-sm\">\r\n                      <span class=\"elsa-absolute elsa-flex-shrink-0 elsa-flex elsa-items-center elsa-justify-center\">\r\n                        <span class={`elsa-h-1.5 elsa-w-1.5 elsa-rounded-full ${eventColor}`}\r\n                              aria-hidden=\"true\"/>\r\n                      </span>\r\n                      <span class=\"elsa-ml-3.5 elsa-font-medium elsa-text-gray-900\">{eventName}</span>\r\n                    </span>\r\n                  </div>\r\n                  <div class=\"elsa-text-right elsa-text-sm elsa-whitespace-nowrap elsa-text-gray-500\">\r\n                    <span>{currentTimestamp.format('DD-MM-YYYY HH:mm:ss')}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"elsa-ml-12 elsa-mt-2\">\r\n                <dl class=\"sm:elsa-divide-y sm:elsa-divide-gray-200\">\r\n                  <div class=\"elsa-grid elsa-grid-cols-2 elsa-gap-x-4 elsa-gap-y-8 sm:elsa-grid-cols-2\">\r\n                    <div class=\"sm:elsa-col-span-2\">\r\n                      <dt class=\"elsa-text-sm elsa-font-medium elsa-text-gray-500\">\r\n                        <span>Activity ID</span>\r\n                        <elsa-copy-button value={record.activityId}/>\r\n                      </dt>\r\n                      <dd class=\"elsa-mt-1 elsa-text-sm elsa-text-gray-900 elsa-mb-2\">{record.activityId}</dd>\r\n                    </div>\r\n                    {outcomes.length > 0 ? (\r\n                      <div class=\"sm:elsa-col-span-2\">\r\n                        <dt class=\"elsa-text-sm elsa-font-medium elsa-text-gray-500\">\r\n                          <span>Outcomes</span>\r\n                          <elsa-copy-button value={outcomes.join(', ')}/>\r\n                        </dt>\r\n                        <dd class=\"elsa-mt-1 elsa-text-sm elsa-text-gray-900 elsa-mb-2\">\r\n                          <div\r\n                            class=\"elsa-flex elsa-flex-col elsa-space-y-4 sm:elsa-space-y-0 sm:elsa-flex-row sm:elsa-space-x-4\">\r\n                            {outcomes.map(outcome => (\r\n                              <span\r\n                                class=\"elsa-inline-flex elsa-items-center elsa-px-3 elsa-py-0.5 elsa-rounded-full elsa-text-sm elsa-font-medium elsa-bg-blue-100 elsa-text-blue-800\">{outcome}</span>))}\r\n                          </div>\r\n                        </dd>\r\n                      </div>\r\n                    ) : undefined}\r\n                    {!!record.message && !exception ? (\r\n                      <div class=\"sm:elsa-col-span-2\">\r\n                        <dt class=\"elsa-text-sm elsa-font-medium elsa-text-gray-500\">\r\n                          <span>Message</span>\r\n                          <elsa-copy-button value={record.message}/>\r\n                        </dt>\r\n                        <dd class=\"elsa-mt-1 elsa-text-sm elsa-text-gray-900\">\r\n                          {record.message}\r\n                        </dd>\r\n                      </div>\r\n                    ) : undefined}\r\n                    {!!exception ? (\r\n                      [<div class=\"sm:elsa-col-span-2\">\r\n                        <dt class=\"elsa-text-sm elsa-font-medium elsa-text-gray-500\">\r\n                          <span>Exception</span>\r\n                          <elsa-copy-button value={exception.Type + '\\n' + exception.Message}/>\r\n                        </dt>\r\n                        <dd class=\"elsa-mt-1 elsa-text-sm elsa-text-gray-900\">\r\n                          {renderExceptionMessage(exception)}\r\n                        </dd>\r\n                      </div>,\r\n                        <div class=\"sm:elsa-col-span-2\">\r\n                          <dt class=\"elsa-text-sm elsa-font-medium elsa-text-gray-500\">\r\n                            <span>Exception Details</span>\r\n                            <elsa-copy-button value={JSON.stringify(exception, null, 1)}/>\r\n                          </dt>\r\n                          <dd class=\"elsa-mt-1 elsa-text-sm elsa-text-gray-900 elsa-overflow-x-auto\">\r\n                            <pre onClick={e => clip(e.currentTarget)}>{JSON.stringify(exception, null, 1)}</pre>\r\n                          </dd>\r\n                        </div>]\r\n                    ) : undefined}\r\n                    {collection.map(filteredRecordData, (v, k) => (\r\n                      <div class=\"sm:elsa-col-span-2\">\r\n                        <dt class=\"elsa-text-sm elsa-font-medium elsa-text-gray-500 elsa-capitalize\">\r\n                          <span>{k}</span>\r\n                          <elsa-copy-button value={v}/>\r\n                        </dt>\r\n                        <dd class=\"elsa-mt-1 elsa-text-sm elsa-text-gray-900 elsa-mb-2 elsa-overflow-x-auto\">\r\n                          <pre onClick={e => clip(e.currentTarget)}>{v}</pre>\r\n                        </dd>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </dl>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      );\r\n    };\r\n\r\n    return (\r\n      <div class=\"flow-root elsa-mt-4\">\r\n        <ul class=\"-elsa-mb-8\">\r\n          {items.map(renderRecord)}\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderActivityStateTab = () => {\r\n\r\n    const activityModel = !!this.workflowModel && this.selectedActivityId ? this.workflowModel.activities.find(x => x.activityId === this.selectedActivityId) : null;\r\n\r\n    if (!activityModel)\r\n      return <p class=\"elsa-mt-4\">No activity selected</p>;\r\n\r\n    // Hide expressions field from properties so that we only display the evaluated value.\r\n    const model = {...activityModel, properties: activityModel.properties.map(x => ({name: x.name, value: x.value}))}\r\n\r\n    return (\r\n      <div class=\"elsa-mt-4\">\r\n        <pre>{JSON.stringify(model, null, 2)}</pre>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderGeneralTab = () => {\r\n    const {workflowInstance, workflowBlueprint} = this;\r\n    const {finishedAt, lastExecutedAt, faultedAt} = workflowInstance;\r\n    const format = 'DD-MM-YYYY HH:mm:ss';\r\n    const eventColor = this.getStatusColor(workflowInstance.workflowStatus);\r\n\r\n    return (\r\n      <dl class=\"elsa-border-b elsa-border-gray-200 elsa-divide-y elsa-divide-gray-200\">\r\n        <div class=\"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium\">\r\n          <dt class=\"elsa-text-gray-500\">Workflow Name</dt>\r\n          <dd class=\"elsa-text-gray-900\">{workflowBlueprint.name}</dd>\r\n        </div>\r\n        <div class=\"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium\">\r\n          <dt class=\"elsa-text-gray-500\">Instance Name</dt>\r\n          <dd class=\"elsa-text-gray-900\">{workflowInstance.name || '-'}</dd>\r\n        </div>\r\n        <div class=\"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium\">\r\n          <dt class=\"elsa-text-gray-500\">Id</dt>\r\n          <dd class=\"elsa-text-gray-900\">{workflowInstance.id}</dd>\r\n        </div>\r\n        <div class=\"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium\">\r\n          <dt class=\"elsa-text-gray-500\">Correlation id</dt>\r\n          <dd class=\"elsa-text-gray-900\">{workflowInstance.correlationId}</dd>\r\n        </div>\r\n        <div class=\"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium\">\r\n          <dt class=\"elsa-text-gray-500\">Version</dt>\r\n          <dd class=\"elsa-text-gray-900 elsa-break-all\">{workflowInstance.version || '-'}</dd>\r\n        </div>\r\n        <div class=\"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium\">\r\n          <dt class=\"elsa-text-gray-500\">Workflow Status</dt>\r\n          <dd class=\"elsa-text-gray-900 elsa-break-all\">\r\n            <span class=\"elsa-relative elsa-inline-flex elsa-items-center elsa-rounded-full\">\r\n              <span class=\"elsa-flex-shrink-0 elsa-flex elsa-items-center elsa-justify-center\">\r\n                <span class={`elsa-w-2-5 elsa-h-2-5 elsa-rounded-full ${eventColor}`}\r\n                      aria-hidden=\"true\"/>\r\n              </span>\r\n              <span class=\"elsa-ml-3.5\">{workflowInstance.workflowStatus || '-'}</span>\r\n            </span>\r\n          </dd>\r\n        </div>\r\n        <div class=\"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium\">\r\n          <dt class=\"elsa-text-gray-500\">Created</dt>\r\n          <dd class=\"elsa-text-gray-900 elsa-break-all\">{moment(workflowInstance.createdAt).format(format) || '-'}</dd>\r\n        </div>\r\n        <div class=\"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium\">\r\n          <dt class=\"elsa-text-gray-500\">Finished</dt>\r\n          <dd class=\"elsa-text-gray-900 elsa-break-all\">{finishedAt ? moment(finishedAt).format(format) : '-'}</dd>\r\n        </div>\r\n        <div class=\"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium\">\r\n          <dt class=\"elsa-text-gray-500\">Last Executed</dt>\r\n          <dd\r\n            class=\"elsa-text-gray-900 elsa-break-all\">{lastExecutedAt ? moment(lastExecutedAt).format(format) : '-'}</dd>\r\n        </div>\r\n        <div class=\"elsa-py-3 elsa-flex elsa-justify-between elsa-text-sm elsa-font-medium\">\r\n          <dt class=\"elsa-text-gray-500\">Faulted</dt>\r\n          <dd class=\"elsa-text-gray-900 elsa-break-all\">{faultedAt ? moment(faultedAt).format(format) : '-'}</dd>\r\n        </div>\r\n      </dl>\r\n    )\r\n  };\r\n\r\n  renderVariablesTab = () => {\r\n    const { workflowInstance, workflowBlueprint } = this;\r\n    const { variables } = workflowInstance;\r\n\r\n    return (\r\n      <dl class=\"elsa-border-b elsa-border-gray-200 elsa-divide-y elsa-divide-gray-200\">\r\n        <div class=\"elsa-py-3 elsa-text-sm elsa-font-medium\">\r\n          {variables?.data ? <pre>{JSON.stringify(variables?.data, null, 2)}</pre> : '-'}\r\n          </div>\r\n      </dl>\r\n    );\r\n  };\r\n}\r\n"],"names":["moment","collection.map"],"mappings":"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"}